define(["react","react-dom","mendix/filters/builders","big.js"],(function(e,t,n,r){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,s=i(e),a=i(r);!function(e){e.STRING="string",e.NUMBER="number",e.ENUMERATION="enum",e.DATE="date",e.ASSOCIATION="association"}(o||(o={}));const l="com.mendix.widgets.web.filterable.filterContext";function c(){const t=window[l];if(t)return{FilterContext:t};const n=e.createContext(void 0);return window[l]=n,{FilterContext:n}}const u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function d(e,t){if(function(e){return u(e,"arg1")&&u(e,"arg2")}(e)&&"attribute"===e.arg1.type&&e.arg1.attributeId===t.id&&(n=e.arg2,u(n,"type")&&u(n,"value")))return{type:e.name,value:e.arg2.value};var n}function h(e,t){var n;if(!e||!t)return[];return(null!==(n=f(t))&&void 0!==n?n:[]).flatMap((t=>{const n=d(t,e);return n?[n]:[]}))}function f(e){return!e||"function"!==e.type||"and"!==e.name&&"or"!==e.name?e?[e]:void 0:e.args.flatMap(f).filter((e=>void 0!==e))}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};class p{constructor(e){v(this,"selectionValue",void 0),v(this,"type","Single"),this.selectionValue=e}updateProps(e){this.selectionValue=e}isSelected(e){var t;return(null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}reduceTo(e){this.selectionValue.setSelection(e)}remove(e){this.selectionValue.setSelection(void 0)}}class m{constructor(e,t){v(this,"selectionValue",void 0),v(this,"selectableItems",void 0),v(this,"type","Multi"),v(this,"rangeStart",void 0),v(this,"rangeEnd",void 0),this.selectionValue=e,this.selectableItems=t,this.rangeStart=void 0}isSelected(e){return this.selectionValue.selection.some((t=>t.id===e.id))}updateProps(e,t){this.selectionValue=e,this.selectableItems=t}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(e){this._add(e),this._setRangeStart(e),this._setRangeEnd(void 0)}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((t=>t.id!==e.id))),this._resetRange()}reduceTo(e){this.selectionValue.setSelection([e]),this._setRangeStart(e),this._setRangeEnd(void 0)}_add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e))}_setRangeStart(e){let t=-1;void 0!==e&&(t=this.selectableItems.indexOf(e)),this.rangeStart=t>-1?t:void 0}_setRangeEnd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)return void(this.rangeEnd=void 0);const[r,i]=t,o=this.rangeEnd,s=this.selectableItems.indexOf(r);this.rangeEnd=s>-1?s:void 0,this._updateSelectionWithRange({start:this.rangeStart,end:o,newEnd:s,selectionMode:i})}_updateSelectionWithRange(e){const{start:t,end:n,newEnd:r,selectionMode:i}=e,o="toggle"===i;if(void 0===t||-1===r||n===r)return;if(void 0===n){let e=this._getRange(t,r);return e=o?this._union(this.selectionValue.selection,e):e,void this.selectionValue.setSelection(e)}const s=this._getRange(t,n),a=this._getRange(t,r);let l=o?[...this.selectionValue.selection]:[];l=this._diff(l,s),l=this._union(l,a),this.selectionValue.setSelection(l)}_getRange(e,t){const n=this.selectableItems.length,[r,i]=[_(e,0,n),_(t,0,n)].sort(((e,t)=>e-t));return this.selectableItems.slice(r,i+1)}_resetRange(){this._setRangeStart(void 0),this._setRangeEnd(void 0)}_union(e,t){const n=[...e],r=new Set(e.map((e=>e.id)));for(const e of t)r.has(e.id)||(r.add(e.id),n.push(e));return n}_diff(e,t){const n=new Set(e),r=new Set(t.map((e=>e.id)));for(const e of n)r.has(e.id)&&n.delete(e);return Array.from(n)}selectAll(){this.selectionValue.setSelection(this.selectableItems),this._resetRange()}selectNone(){this.selectionValue.setSelection([]),this._resetRange()}selectUpTo(e,t){void 0===this.rangeStart?(this._add(e),this._setRangeStart(e)):this._setRangeEnd(e,t)}_findIndexInList(e,t,n){const r=this.selectableItems.length-1,i="forward"===t;if("edge"===n)return i?r:0;return _(i?e+n:e-n,0,r)}_findIndexInGrid(e,t,n){const{columnIndex:r}=function(e,t,n){if(n<0||n>=t)return{columnIndex:-1,rowIndex:-1};const r=n%e,i=function(e,t){return Math.floor(e/t)}(n,e);return{columnIndex:r,rowIndex:i}}(n,this.selectableItems.length,e);return"PageDown"===t?this.selectableItems.length-(n-r):"Home"===t?e-r:"End"===t?e+(n-(r+1)):r}selectUpToAdjacent(e,t,n,r){if(!1===t)return void this._resetRange();const i=this.selectableItems.findIndex((t=>t.id===e.id));let o=-1;if(o="direction"in r?this._findIndexInList(i,r.direction,r.size):this._findIndexInGrid(i,r.code,r.numberOfColumns),o===i)return;void 0===this.rangeStart&&this._setRangeStart(e);const s=this.selectableItems.at(o);s&&this._setRangeEnd(s,n)}}const _=(e,t,n)=>Math.min(Math.max(e,t),n);function b(t,n,r){const i=e.useRef([]),o=e.useRef(!1);o.current||(o.current="loading"!==(null==n?void 0:n.status)),e.useEffect((()=>{var e;const n=i.current,s=null!==(e=null==t?void 0:t.selection)&&void 0!==e?e:[],a=Array.isArray(s)?s:[s];(function(e,t){if(e.length!==t.length)return!1;const n=new Set(t.map((e=>e.id)));return e.every((e=>n.has(e.id)))})(n,a)||(i.current=a,o.current&&g(r))}),[null==t?void 0:t.selection,r]);const s=e.useRef(void 0);var a,l;void 0!==t&&("Single"===t.type?s.current?s.current.updateProps(t):s.current=new p(t):s.current?s.current.updateProps(t,null!==(a=n.items)&&void 0!==a?a:[]):s.current=new m(t,null!==(l=n.items)&&void 0!==l?l:[]));return s.current}const y=new Set(["KeyA","MetaLeft","MetaRight","ControlLeft","ControlRight"]),w=(e,t)=>{let n=!1;const[r,i]=function(e,t){let n=0,r=0;return[function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=(new Date).getTime()-r,l=()=>{n=0,r=(new Date).getTime(),e(...o)};n||(a>=t?l():n=window.setTimeout(l,t-a))},()=>{clearTimeout(n),n=0}]}((()=>{n=!0,e()}),500);return[{eventName:"onKeyDown",filter:(e,t)=>"Multi"===e.selectionType&&function(e){const t=e.currentTarget===e.target;return"KeyA"===e.code&&(e.metaKey||e.ctrlKey)&&t}(t),handler:r},{eventName:"onKeyUp",filter:(e,t)=>"Multi"===e.selectionType&&y.has(t.code)&&n,handler:()=>{n=!1,i(),null==t||t()}}]};function S(e,t){return t.metaKey||t.ctrlKey?"toggle":e.selectionMode}const C=e=>[{eventName:"onKeyDown",filter:(e,t)=>"ArrowUp"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"backward",size:1})},{eventName:"onKeyDown",filter:(e,t)=>"ArrowDown"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"forward",size:1})},{eventName:"onKeyDown",filter:(e,t)=>"PageUp"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"backward",size:t.pageSize})},{eventName:"onKeyDown",filter:(e,t)=>"PageDown"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"forward",size:t.pageSize})},{eventName:"onKeyDown",filter:(e,t)=>"Home"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"backward",size:"edge"})},{eventName:"onKeyDown",filter:(e,t)=>"End"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,S(t,n),{direction:"forward",size:"edge"})}],x="com.mendix.widgets.web.selectable.selectionContext";class E{constructor(e,t){var n=this;v(this,"selection",void 0),v(this,"selectionHelper",void 0),v(this,"onSelect",(function(){n.selectionHelper&&("Multi"===n.selectionHelper.type?n._onSelectItemMulti(...arguments):n._onSelectItemSingle(...arguments))})),v(this,"_onSelectItemMulti",(function(e,t){var r;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"Multi"===(null===(r=n.selectionHelper)||void 0===r?void 0:r.type)&&(t?n.selectionHelper.selectUpTo(e,i?"toggle":"clear"):n.selectItem(e,i))})),v(this,"_onSelectItemSingle",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.selectItem(e,r)})),v(this,"onSelectAll",(e=>{this.selectionHelper&&("Single"!==this.selectionHelper.type?"selectAll"!==e&&"all"===this.selectionHelper.selectionStatus?this.selectionHelper.selectNone():this.selectionHelper.selectAll():console.warn("Datagrid: calling onSelectAll in single selection mode have no effect"))})),v(this,"onSelectAdjacent",(function(){var e;"Multi"===(null===(e=n.selectionHelper)||void 0===e?void 0:e.type)&&n.selectionHelper.selectUpToAdjacent(...arguments)})),v(this,"isSelected",(e=>!!this.selectionHelper&&this.selectionHelper.isSelected(e))),v(this,"selectItem",((e,t)=>{void 0!==this.selectionHelper&&(!1!==t?this.selectionHelper.isSelected(e)?this.selectionHelper.remove(e):"Multi"===this.selectionHelper.type?this.selectionHelper.add(e):this.selectionHelper.reduceTo(e):this.selectionHelper.reduceTo(e))})),this.selection=e,this.selectionHelper=t}get selectionType(){if(void 0===this.selection)return"None";if("object"==typeof this.selection)return this.selection.type;if("None"===this.selection||"Single"===this.selection||"Multi"===this.selection)return this.selection;throw new Error("Unknown selection type: ".concat(this.selection))}}function O(){const e="com.mendix.widgets.web.UUID";return window[e]||(window[e]=1),window[e]++}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var k={};function P(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:k}var I=Object.assign,T=Object.getOwnPropertyDescriptor,N=Object.defineProperty,D=Object.prototype,M=[];Object.freeze(M);var R={};Object.freeze(R);var j="undefined"!=typeof Proxy,L=Object.toString();function V(){j||A("Proxy not available")}function H(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var F=function(){};function z(e){return"function"==typeof e}function K(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function B(e){return null!==e&&"object"==typeof e}function U(e){if(!B(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===L}function W(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function G(e,t,n){N(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function q(e,t,n){N(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Z(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return B(e)&&!0===e[n]}}function X(e){return e instanceof Map}function $(e){return e instanceof Set}var J=void 0!==Object.getOwnPropertySymbols;var Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:J?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Q(e){return null===e?null:"object"==typeof e?""+e:e}function ee(e,t){return D.hasOwnProperty.call(e,t)}var te=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=T(e,n)})),t};function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,se(e,t)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue=Symbol("mobx-stored-annotations");function de(e){return Object.assign((function(t,n){if(fe(n))return e.decorate_20223_(t,n);he(t,n,e)}),e)}function he(e,t,n){ee(e,ue)||G(e,ue,ie({},e[ue])),function(e){return e.annotationType_===we}(n)||(e[ue][t]=n)}function fe(e){return"object"==typeof e&&"string"==typeof e.kind}var ve=Symbol("mobx administration"),ge=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=_t.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Kt(this)},t.reportChanged=function(){Ft(),Bt(this),zt()},t.toString=function(){return this.name_},e}(),pe=Z("Atom",ge);function me(e,t,n){void 0===t&&(t=F),void 0===n&&(n=F);var r,i=new ge(e);return t!==F&&vn(dn,i,t,r),n!==F&&fn(i,n),i}var _e={identity:function(e,t){return e===t},structural:function(e,t){return Mr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Mr(e,t,1)}};function be(e,t,n){return kn(e)?e:Array.isArray(e)?rt.array(e,{name:n}):U(e)?rt.object(e,void 0,{name:n}):X(e)?rt.map(e,{name:n}):$(e)?rt.set(e,{name:n}):"function"!=typeof e||sn(e)||An(e)?e:W(e)?En(e):on(n,e)}function ye(e){return e}var we="override";function Se(e,t){return{annotationType_:e,options_:t,make_:Ce,extend_:xe,decorate_20223_:Ee}}function Ce(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(sn(n.value))return 1;var o=Oe(e,this,t,n,!1);return N(r,t,o),2}function xe(e,t,n,r){var i=Oe(e,this,t,n);return e.defineProperty_(t,i,r)}function Ee(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this;if("field"!=n){var s,a,l,c,u,d;if("method"==n)return sn(e)||(a=e,e=ft(null!=(l=null==(c=o.options_)?void 0:c.name)?l:r.toString(),a,null!=(u=null==(d=o.options_)?void 0:d.autoAction)&&u)),null!=(s=this.options_)&&s.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobxAction=!0,e[r]=t})),e;A("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}else i((function(){he(this,r,o)}))}function Oe(e,t,n,r,i){var o,s,a,l,c,u,d,h;void 0===i&&(i=jt.safeDescriptors),h=r,t.annotationType_,h.value;var f,v=r.value;null!=(o=t.options_)&&o.bound&&(v=v.bind(null!=(f=e.proxy_)?f:e.target_));return{value:ft(null!=(s=null==(a=t.options_)?void 0:a.name)?s:n.toString(),v,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function Ae(e,t){return{annotationType_:e,options_:t,make_:ke,extend_:Pe,decorate_20223_:Ie}}function ke(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!ee(e.target_,t)||!An(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(An(n.value))return 1;var o=Te(e,this,t,n,!1,!1);return N(r,t,o),2}function Pe(e,t,n,r){var i,o=Te(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function Ie(e,t){var n,r=t.name,i=t.addInitializer;return An(e)||(e=En(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function Te(e,t,n,r,i,o){var s;void 0===o&&(o=jt.safeDescriptors),s=r,t.annotationType_,s.value;var a,l=r.value;(An(l)||(l=En(l)),i)&&((l=l.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0);return{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function Ne(e,t){return{annotationType_:e,options_:t,make_:De,extend_:Me,decorate_20223_:Re}}function De(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Me(e,t,n,r){var i;return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,ie({},this.options_,{get:n.get,set:n.set}),r)}function Re(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=fr(this)[ve],i=ie({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new yt(i))})),function(){return this[ve].getObservablePropValue_(r)}}function je(e,t){return{annotationType_:e,options_:t,make_:Le,extend_:Ve,decorate_20223_:He}}function Le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Ve(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:be,r)}function He(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(e,t){var r,s,a=fr(e)[ve],l=new mt(t,null!=(r=null==(s=n.options_)?void 0:s.enhancer)?r:be,"ObservableObject."+i.toString(),!1);a.values_.set(i,l),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[ve].getObservablePropValue_(i)},set:function(e){return o.has(this)||s(this,e),this[ve].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||s(this,e),e}}}var Fe="true",ze=Ke();function Ke(e){return{annotationType_:Fe,options_:e,make_:Be,extend_:Ue,decorate_20223_:We}}function Be(e,t,n,r){var i,o,s,a;if(n.get)return at.make_(e,t,n,r);if(n.set){var l=ft(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!jt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(N(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return W(n.value)?(null!=(a=this.options_)&&a.autoBind?En.bound:En).make_(e,t,n,r):(null!=(s=this.options_)&&s.autoBind?on.bound:on).make_(e,t,n,r);var c,u=!1===(null==(i=this.options_)?void 0:i.deep)?rt.ref:rt;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,r)}function Ue(e,t,n,r){var i,o,s;if(n.get)return at.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!jt.safeDescriptors||e.isPlainObject_,set:ft(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?rt.ref:rt).extend_(e,t,n,r)}function We(e,t){A("'"+this.annotationType_+"' cannot be used as a decorator")}var Ge={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function qe(e){return e||Ge}Object.freeze(Ge);var Ze=je("observable"),Xe=je("observable.ref",{enhancer:ye}),$e=je("observable.shallow",{enhancer:function(e,t,n){return null==e||pr(e)||Qn(e)||sr(e)||cr(e)?e:Array.isArray(e)?rt.array(e,{name:n,deep:!1}):U(e)?rt.object(e,void 0,{name:n,deep:!1}):X(e)?rt.map(e,{name:n,deep:!1}):$(e)?rt.set(e,{name:n,deep:!1}):void 0}}),Je=je("observable.struct",{enhancer:function(e,t){return Mr(e,t)?t:e}}),Ye=de(Ze);function Qe(e){return!0===e.deep?be:!1===e.deep?ye:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:be;var t,n,r}function et(e,t,n){return fe(t)?Ze.decorate_20223_(e,t):K(t)?void he(e,t,Ze):kn(e)?e:U(e)?rt.object(e,t,n):Array.isArray(e)?rt.array(e,t):X(e)?rt.map(e,t):$(e)?rt.set(e,t):"object"==typeof e&&null!==e?e:rt.box(e,t)}I(et,Ye);var tt,nt,rt=I(et,{box:function(e,t){var n=qe(t);return new mt(e,Qe(n),n.name,!0,n.equals)},array:function(e,t){var n=qe(t);return(!1===jt.useProxies||!1===n.proxy?kr:Un)(e,Qe(n),n.name)},map:function(e,t){var n=qe(t);return new or(e,Qe(n),n.name)},set:function(e,t){var n=qe(t);return new lr(e,Qe(n),n.name)},object:function(e,t,n){return Nr((function(){return bn(!1===jt.useProxies||!1===(null==n?void 0:n.proxy)?fr({},n):function(e,t){var n,r;return V(),e=fr(e,t),null!=(r=(n=e[ve]).proxy_)?r:n.proxy_=new Proxy(e,Tn)}({},n),e,t)}))},ref:de(Xe),shallow:de($e),deep:Ye,struct:de(Je)}),it="computed",ot=Ne(it),st=Ne("computed.struct",{equals:_e.structural}),at=function(e,t){if(fe(t))return ot.decorate_20223_(e,t);if(K(t))return he(e,t,ot);if(U(e))return de(Ne(it,e));var n=U(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new yt(n)};Object.assign(at,ot),at.struct=de(st);var lt,ct=0,ut=1,dt=null!=(tt=null==(nt=T((function(){}),"name"))?void 0:nt.configurable)&&tt,ht={value:"action",configurable:!0,writable:!1,enumerable:!1};function ft(e,t,n,r){function i(){return function(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0,s=jt.trackingDerivation,a=!t||!s;Ft();var l=jt.allowStateChanges;a&&(kt(),l=vt(!0));var c=It(!0),u={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:o,actionId_:ut++,parentActionId_:ct};return ct=u.actionId_,u}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){ct!==e.actionId_&&A(30);ct=e.parentActionId_,void 0!==e.error_&&(jt.suppressReactionErrors=!0);gt(e.prevAllowStateChanges_),Tt(e.prevAllowStateReads_),zt(),e.runAsAction_&&Pt(e.prevDerivation_);jt.suppressReactionErrors=!1}(o)}}(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},dt&&(ht.value=e,N(i,"name",ht)),i}function vt(e){var t=jt.allowStateChanges;return jt.allowStateChanges=e,t}function gt(e){jt.allowStateChanges=e}lt=Symbol.toPrimitive;var pt,mt=function(e){function t(t,n,r,i,o){var s;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=_e.default),(s=e.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=o,s.value_=n(t,void 0,r),s}oe(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==jt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(Nn(this)){var t=Mn(this,{object:this,type:zn,newValue:e});if(!t)return jt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?jt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Rn(this)&&Ln(this,{type:zn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Dn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:zn,newValue:this.value_,oldValue:void 0}),jn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Q(this.get())},n[lt]=function(){return this.valueOf()},t}(ge);pt=Symbol.toPrimitive;var _t,bt,yt=function(){function e(e){this.dependenciesState_=_t.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=_t.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new St(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=bt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||A(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=ft("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?_e.structural:_e.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==_t.UP_TO_DATE_)return;e.lowestObserverState_=_t.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===_t.UP_TO_DATE_&&(e.dependenciesState_=_t.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&A(32,this.name_,this.derivation),0!==jt.inBatch||0!==this.observers_.size||this.keepAlive_){if(Kt(this),xt(this)){var e=jt.trackingContext;this.keepAlive_&&!e&&(jt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===_t.STALE_)return;e.lowestObserverState_=_t.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===_t.POSSIBLY_STALE_?t.dependenciesState_=_t.STALE_:t.dependenciesState_===_t.UP_TO_DATE_&&(e.lowestObserverState_=_t.UP_TO_DATE_)}))}(this),jt.trackingContext=e}}else xt(this)&&(this.warnAboutUntrackedRead_(),Ft(),this.value_=this.computeValue_(!1),zt());var t=this.value_;if(Ct(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&A(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else A(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===_t.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ct(e)||Ct(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=vt(!1);if(e)t=Et(this,this.derivation,this.scope_);else if(!0===jt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new St(e)}return gt(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(Ot(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return an((function(){var o=n.get();if(!r||t){var s=kt();e({observableKind:"computed",debugObjectName:n.name_,type:zn,object:n,newValue:o,oldValue:i}),Pt(s)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Q(this.get())},t[pt]=function(){return this.valueOf()},e}(),wt=Z("ComputedValue",yt);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(_t||(_t={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(bt||(bt={}));var St=function(e){this.cause=void 0,this.cause=e};function Ct(e){return e instanceof St}function xt(e){switch(e.dependenciesState_){case _t.UP_TO_DATE_:return!1;case _t.NOT_TRACKING_:case _t.STALE_:return!0;case _t.POSSIBLY_STALE_:for(var t=It(!0),n=kt(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(wt(s)){if(jt.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return Pt(n),Tt(t),!0}if(e.dependenciesState_===_t.STALE_)return Pt(n),Tt(t),!0}}return Nt(e),Pt(n),Tt(t),!1}}function Et(e,t,n){var r=It(!0);Nt(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++jt.runId;var i,o=jt.trackingDerivation;if(jt.trackingDerivation=e,jt.inBatch++,!0===jt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new St(e)}return jt.inBatch--,jt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=_t.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=n[s];0===a.diffValue_&&(a.diffValue_=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue_&&Vt(l,e),l.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,Lt(c,e))}r!==_t.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Tt(r),i}function Ot(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Vt(t[n],e);e.dependenciesState_=_t.NOT_TRACKING_}function At(e){var t=kt();try{return e()}finally{Pt(t)}}function kt(){var e=jt.trackingDerivation;return jt.trackingDerivation=null,e}function Pt(e){jt.trackingDerivation=e}function It(e){var t=jt.allowStateReads;return jt.allowStateReads=e,t}function Tt(e){jt.allowStateReads=e}function Nt(e){if(e.dependenciesState_!==_t.UP_TO_DATE_){e.dependenciesState_=_t.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=_t.UP_TO_DATE_}}var Dt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Mt=!0,Rt=!1,jt=function(){var e=P();return e.__mx_isolated_mobxInstanceCount>0&&!e.__mx_isolated_mobxGlobals&&(Mt=!1),e.__mx_isolated_mobxGlobals&&e.__mx_isolated_mobxGlobals.version!==(new Dt).version&&(Mt=!1),Mt?e.__mx_isolated_mobxGlobals?(e.__mx_isolated_mobxInstanceCount+=1,e.__mx_isolated_mobxGlobals.UNCHANGED||(e.__mx_isolated_mobxGlobals.UNCHANGED={}),e.__mx_isolated_mobxGlobals):(e.__mx_isolated_mobxInstanceCount=1,e.__mx_isolated_mobxGlobals=new Dt):(setTimeout((function(){Rt||A(35)}),1),new Dt)}();function Lt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Vt(e,t){e.observers_.delete(t),0===e.observers_.size&&Ht(e)}function Ht(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,jt.pendingUnobservations.push(e))}function Ft(){jt.inBatch++}function zt(){if(0==--jt.inBatch){qt();for(var e=jt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof yt&&n.suspend_())}jt.pendingUnobservations=[]}}function Kt(e){var t=jt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&jt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&jt.inBatch>0&&Ht(e),!1)}function Bt(e){e.lowestObserverState_!==_t.STALE_&&(e.lowestObserverState_=_t.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===_t.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=_t.STALE_})))}var Ut=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=_t.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=bt.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,jt.pendingReactions.push(this),qt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Ft(),this.isScheduled_=!1;var e=jt.trackingContext;if(jt.trackingContext=this,xt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}jt.trackingContext=e,zt()}},t.track=function(e){if(!this.isDisposed_){Ft(),this.isRunning_=!0;var t=jt.trackingContext;jt.trackingContext=this;var n=Et(this,e,void 0);jt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Ot(this),Ct(n)&&this.reportExceptionInDerivation_(n.cause),zt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(jt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";jt.suppressReactionErrors||console.error(n,e),jt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Ft(),Ot(this),zt()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ve]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){},e}(),Wt=100,Gt=function(e){return e()};function qt(){jt.inBatch>0||jt.isRunningReactions||Gt(Zt)}function Zt(){jt.isRunningReactions=!0;for(var e=jt.pendingReactions,t=0;e.length>0;){++t===Wt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}jt.isRunningReactions=!1}var Xt=Z("Reaction",Ut);var $t="action",Jt="autoAction",Yt=Se($t),Qt=Se("action.bound",{bound:!0}),en=Se(Jt,{autoAction:!0}),tn=Se("autoAction.bound",{autoAction:!0,bound:!0});function nn(e){return function(t,n){return z(t)?ft(t.name||"<unnamed action>",t,e):z(n)?ft(t,n,e):fe(n)?(e?en:Yt).decorate_20223_(t,n):K(n)?he(t,n,e?en:Yt):K(t)?de(Se(e?Jt:$t,{name:t,autoAction:e})):void 0}}var rn=nn(!1);Object.assign(rn,Yt);var on=nn(!0);function sn(e){return z(e)&&!0===e.isMobxAction}function an(e,t){var n,r,i,o,s;void 0===t&&(t=R);var a,l=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Ut(l,(function(){this.track(d)}),t.onError,t.requiresObservable);else{var c=cn(t),u=!1;a=new Ut(l,(function(){u||(u=!0,c((function(){u=!1,a.isDisposed_||a.track(d)})))}),t.onError,t.requiresObservable)}function d(){e(a)}return null!=(i=t)&&null!=(o=i.signal)&&o.aborted||a.schedule_(),a.getDisposer_(null==(s=t)?void 0:s.signal)}Object.assign(on,en),rn.bound=de(Qt),on.bound=de(tn);var ln=function(e){return e()};function cn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ln}function un(e,t,n){var r,i,o,s;void 0===n&&(n=R);var a,l,c,u=null!=(r=n.name)?r:"Reaction",d=rn(u,n.onError?(a=n.onError,l=t,function(){try{return l.apply(this,arguments)}catch(e){a.call(this,e)}}):t),h=!n.scheduler&&!n.delay,f=cn(n),v=!0,g=!1,p=n.compareStructural?_e.structural:n.equals||_e.default,m=new Ut(u,(function(){v||h?_():g||(g=!0,f(_))}),n.onError,n.requiresObservable);function _(){if(g=!1,!m.isDisposed_){var t=!1,r=c;m.track((function(){var n=function(e,t){var n=vt(e);try{return t()}finally{gt(n)}}(!1,(function(){return e(m)}));t=v||!p(c,n),c=n})),(v&&n.fireImmediately||!v&&t)&&d(c,r,m),v=!1}}return null!=(i=n)&&null!=(o=i.signal)&&o.aborted||m.schedule_(),m.getDisposer_(null==(s=n)?void 0:s.signal)}var dn="onBO",hn="onBUO";function fn(e,t,n){return vn(hn,e,t,n)}function vn(e,t,n,r){var i="function"==typeof r?Pr(t,n):Pr(t),o=z(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var e=i[s];e&&(e.delete(o),0===e.size&&delete i[s])}}var gn="never",pn="always",mn="observed";function _n(e){!0===e.isolateGlobalState&&function(){if((jt.pendingReactions.length||jt.inBatch||jt.isRunningReactions)&&A(36),Rt=!0,Mt){var e=P();0==--e.__mx_isolated_mobxInstanceCount&&(e.__mx_isolated_mobxGlobals=void 0),jt=new Dt}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(jt.useProxies=r===pn||r!==gn&&"undefined"!=typeof Proxy),"ifavailable"===r&&(jt.verifyProxies=!0),void 0!==i){var o=i===pn?pn:i===mn;jt.enforceActions=o,jt.allowStateChanges=!0!==o&&o!==pn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(jt[t]=!!e[t])})),jt.allowStateReads=!jt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=Gt,Gt=function(e){return t((function(){return n(e)}))})}function bn(e,t,n,r){var i=te(t);return Nr((function(){var t=fr(e,r)[ve];Y(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function yn(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(yn)),n}var wn=0;function Sn(){this.message="FLOW_CANCELLED"}Sn.prototype=Object.create(Error.prototype);var Cn=Ae("flow"),xn=Ae("flow.bound",{bound:!0}),En=Object.assign((function(e,t){if(fe(t))return Cn.decorate_20223_(e,t);if(K(t))return he(e,t,Cn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++wn,o=rn(r+" - runid: "+i+" - init",n).apply(this,t),s=void 0,a=new Promise((function(t,n){var a=0;function l(e){var t;s=void 0;try{t=rn(r+" - runid: "+i+" - yield "+a++,o.next).call(o,e)}catch(e){return n(e)}u(t)}function c(e){var t;s=void 0;try{t=rn(r+" - runid: "+i+" - yield "+a++,o.throw).call(o,e)}catch(e){return n(e)}u(t)}function u(e){if(!z(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return a.cancel=rn(r+" - runid: "+i+" - cancel",(function(){try{s&&On(s);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(F,F),On(n),e(new Sn)}catch(t){e(t)}})),a};return i.isMobXFlow=!0,i}),Cn);function On(e){z(e.cancel)&&e.cancel()}function An(e){return!0===(null==e?void 0:e.isMobXFlow)}function kn(e){return function(e,t){return!!e&&(void 0!==t?!!pr(e)&&e[ve].values_.has(t):pr(e)||!!e[ve]||pe(e)||Xt(e)||wt(e))}(e)}function Pn(e,t){void 0===t&&(t=void 0),Ft();try{return e.apply(t)}finally{zt()}}function In(e){return e[ve]}En.bound=de(xn);var Tn={has:function(e,t){return In(e).has_(t)},get:function(e,t){return In(e).get_(t)},set:function(e,t,n){var r;return!!K(t)&&(null==(r=In(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!K(t)&&(null==(n=In(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=In(e).defineProperty_(t,n))||r},ownKeys:function(e){return In(e).ownKeys_()},preventExtensions:function(e){A(13)}};function Nn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Dn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),H((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Mn(e,t){var n=kt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&A(14),t);i++);return t}finally{Pt(n)}}function Rn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function jn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),H((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ln(e,t){var n=kt(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Pt(n)}}function Vn(e,t,n){return Nr((function(){var r=fr(e,n)[ve];null!=t||(t=function(e){return ee(e,ue)||G(e,ue,ie({},e[ue])),e[ue]}(e)),Y(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var Hn=Symbol("mobx-keys");var Fn="splice",zn="update",Kn={get:function(e,t){var n=e[ve];return t===ve?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?ee(Wn,t)?Wn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ve];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){A(15)}},Bn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new ge(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Dn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),jn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&A("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&A(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Ar(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=M),Nn(this)){var o=Mn(this,{object:this.proxy_,type:Fn,index:e,removedCount:t,added:n});if(!o)return M;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(i,s)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var a=0;a<o.length;a++)this.values_[e+n.length+a]=o[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Rn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:zn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Ln(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Rn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Fn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Ln(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&A(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(Nn(this)){var i=Mn(this,{type:zn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Un(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),V(),Nr((function(){var i=new Bn(n,t,r,!1);q(i.values_,ve,i);var o=new Proxy(i.values_,Kn);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o}))}var Wn={clear:function(){return this.splice(0)},replace:function(e){var t=this[ve];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[ve];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ve].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ve],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ve].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ve],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return jt.trackingDerivation&&A(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){jt.trackingDerivation&&A(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ve],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Gn(e,t){"function"==typeof Array.prototype[e]&&(Wn[e]=t(e))}function qn(e){return function(){var t=this[ve];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Zn(e){return function(t,n){var r=this,i=this[ve];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Xn(e){return function(){var t=this,n=this[ve];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Gn("at",qn),Gn("concat",qn),Gn("flat",qn),Gn("includes",qn),Gn("indexOf",qn),Gn("join",qn),Gn("lastIndexOf",qn),Gn("slice",qn),Gn("toString",qn),Gn("toLocaleString",qn),Gn("toSorted",qn),Gn("toSpliced",qn),Gn("with",qn),Gn("every",Zn),Gn("filter",Zn),Gn("find",Zn),Gn("findIndex",Zn),Gn("findLast",Zn),Gn("findLastIndex",Zn),Gn("flatMap",Zn),Gn("forEach",Zn),Gn("map",Zn),Gn("some",Zn),Gn("toReversed",Zn),Gn("reduce",Xn),Gn("reduceRight",Xn);var $n,Jn,Yn=Z("ObservableArrayAdministration",Bn);function Qn(e){return B(e)&&Yn(e[ve])}var er={},tr="add",nr="delete";$n=Symbol.iterator,Jn=Symbol.toStringTag;var rr,ir,or=function(){function e(e,t,n){var r=this;void 0===t&&(t=be),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ve]=er,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,z(Map)||A(18),Nr((function(){r.keysAtom_=me("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!jt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new mt(this.has_(e),ye,"ObservableMap.key?",!1);this.hasMap_.set(e,r),fn(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Nn(this)){var r=Mn(this,{type:n?zn:tr,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Nn(this))&&!Mn(this,{type:nr,object:this,name:e}))return!1;if(this.has_(e)){var n=Rn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:nr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Pn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Ln(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==jt.UNCHANGED){var r=Rn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:zn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&Ln(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Pn((function(){var r,i=new mt(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=Rn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:tr,object:this,name:e,newValue:t}:null;r&&Ln(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Lr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Lr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[$n]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=ce(this);!(n=r()).done;){var i=n.value,o=i[0],s=i[1];e.call(t,s,o,this)}},t.merge=function(e){var t=this;return sr(e)&&(e=new Map(e)),Pn((function(){U(e)?function(e){var t=Object.keys(e);if(!J)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return D.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):X(e)?(e.constructor!==Map&&A(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&A(20,e)})),this},t.clear=function(){var e=this;Pn((function(){At((function(){for(var t,n=ce(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return Pn((function(){for(var n,r=function(e){if(X(e)||sr(e))return e;if(Array.isArray(e))return new Map(e);if(U(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return A(21,e)}(e),i=new Map,o=!1,s=ce(t.data_.keys());!(n=s()).done;){var a=n.value;if(!r.has(a))if(t.delete(a))o=!0;else{var l=t.data_.get(a);i.set(a,l)}}for(var c,u=ce(r.entries());!(c=u()).done;){var d=c.value,h=d[0],f=d[1],v=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var g=t.data_.get(h);i.set(h,g),v||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var p=t.data_.keys(),m=i.keys(),_=p.next(),b=m.next();!_.done;){if(_.value!==b.value){t.keysAtom_.reportChanged();break}_=p.next(),b=m.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return jn(this,e)},t.intercept_=function(e){return Dn(this,e)},re(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Jn,get:function(){return"Map"}}]),e}(),sr=Z("ObservableMap",or);var ar={};rr=Symbol.iterator,ir=Symbol.toStringTag;var lr=function(){function e(e,t,n){var r=this;void 0===t&&(t=be),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ve]=ar,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,z(Set)||A(22),this.enhancer_=function(e,r){return t(e,r,n)},Nr((function(){r.atom_=me(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Pn((function(){At((function(){for(var t,n=ce(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=ce(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,Nn(this))&&!Mn(this,{type:tr,object:this,newValue:e}))return this;if(!this.has(e)){Pn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=Rn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:tr,object:this,newValue:e}:null;n&&Ln(this,r)}return this},t.delete=function(e){var t=this;if(Nn(this)&&!Mn(this,{type:nr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Rn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:nr,object:this,oldValue:e}:null;return Pn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Ln(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Lr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Lr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return cr(e)&&(e=new Set(e)),Pn((function(){Array.isArray(e)||$(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&A("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return jn(this,e)},t.intercept_=function(e){return Dn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[rr]=function(){return this.values()},re(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ir,get:function(){return"Set"}}]),e}(),cr=Z("ObservableSet",lr),ur=Object.create(null),dr="remove",hr=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=ze),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new ge("ObservableObject.keys"),this.isPlainObject_=U(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof yt)return n.set(t),!0;if(Nn(this)){var r=Mn(this,{type:zn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==jt.UNCHANGED){var i=Rn(this),o=i?{type:zn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&Ln(this,o)}return!0},t.get_=function(e){return jt.trackingDerivation&&!ee(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),ee(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!jt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new mt(e in this.target_,ye,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[ue])&&n[e])return;A(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==D;){var i=T(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}mr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&mr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Ft();var r=this.delete_(e);if(!r)return r;if(Nn(this)){var i=Mn(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=ie({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else N(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{zt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Ft();var i=this.delete_(e);if(!i)return i;if(Nn(this)){var o=Mn(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:t});if(!o)return null;t=o.newValue}var s=gr(e),a={configurable:!jt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else N(this.target_,e,a);var l=new mt(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{zt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Ft();var r=this.delete_(e);if(!r)return r;if(Nn(this))if(!Mn(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=gr(e),o={configurable:!jt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else N(this.target_,e,o);this.values_.set(e,new yt(t)),this.notifyPropertyAddition_(e,void 0)}finally{zt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!ee(this.target_,e))return!0;if(Nn(this)&&!Mn(this,{object:this.proxy_||this.target_,name:e,type:dr}))return null;try{var n,r;Ft();var i,o=Rn(this),s=this.values_.get(e),a=void 0;if(!s&&o)a=null==(i=T(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof mt&&(a=s.value_),Bt(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var l={type:dr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,o&&Ln(this,l)}}finally{zt()}return!0},t.observe_=function(e,t){return jn(this,e)},t.intercept_=function(e){return Dn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Rn(this);if(i){var o=i?{type:tr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&Ln(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Y(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function fr(e,t){var n;if(ee(e,ve))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new hr(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ke(e):void 0}(t));return G(e,ve,i),e}var vr=Z("ObservableObjectAdministration",hr);function gr(e){return ur[e]||(ur[e]={get:function(){return this[ve].getObservablePropValue_(e)},set:function(t){return this[ve].setObservablePropValue_(e,t)}})}function pr(e){return!!B(e)&&vr(e[ve])}function mr(e,t,n){var r;null==(r=e.target_[ue])||delete r[n]}var _r,br,yr=Er(0),wr=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),Sr=0,Cr=function(){};_r=Cr,br=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(_r.prototype,br):void 0!==_r.prototype.__proto__?_r.prototype.__proto__=br:_r.prototype=br;var xr=function(e,t,n){function r(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,Nr((function(){var e=new Bn(r,n,i,!0);e.proxy_=ae(o),q(ae(o),ve,e),t&&t.length&&o.spliceWithArray(0,0,t),wr&&Object.defineProperty(ae(o),"0",yr)})),o}oe(r,e);var i=r.prototype;return i.concat=function(){this[ve].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Qn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return Lr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},re(r,[{key:"length",get:function(){return this[ve].getArrayLength_()},set:function(e){this[ve].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Cr,Symbol.toStringTag,Symbol.iterator);function Er(e){return{enumerable:!1,configurable:!0,get:function(){return this[ve].get_(e)},set:function(t){this[ve].set_(e,t)}}}function Or(e){N(xr.prototype,""+e,Er(e))}function Ar(e){if(e>Sr){for(var t=Sr;t<e+100;t++)Or(t);Sr=e}}function kr(e,t,n){return new xr(e,t,n)}function Pr(e,t){if("object"==typeof e&&null!==e){if(Qn(e))return void 0!==t&&A(23),e[ve].atom_;if(cr(e))return e.atom_;if(sr(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||A(25,t,Tr(e)),n}if(pr(e)){if(!t)return A(26);var r=e[ve].values_.get(t);return r||A(27,t,Tr(e)),r}if(pe(e)||wt(e)||Xt(e))return e}else if(z(e)&&Xt(e[ve]))return e[ve];A(28)}function Ir(e,t){return e||A(29),void 0!==t?Ir(Pr(e,t)):pe(e)||wt(e)||Xt(e)||sr(e)||cr(e)?e:e[ve]?e[ve]:void A(24,e)}function Tr(e,t){var n;if(void 0!==t)n=Pr(e,t);else{if(sn(e))return e.name;n=pr(e)||sr(e)||cr(e)?Ir(e):Pr(e)}return n.name_}function Nr(e){var t=kt(),n=vt(!0);Ft();try{return e()}finally{zt(),gt(n),Pt(t)}}Object.entries(Wn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&G(xr.prototype,t,n)})),Ar(1e3);var Dr=D.toString;function Mr(e,t,n){return void 0===n&&(n=-1),Rr(e,t,n)}function Rr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var s=Dr.call(e);if(s!==Dr.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=jr(e),t=jr(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(z(l)&&l instanceof l&&z(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Rr(e[u],t[u],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(u=h.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!ee(t,d=h[u])||!Rr(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function jr(e){return Qn(e)?e.slice():X(e)||sr(e)||$(e)||cr(e)?Array.from(e.entries()):e}function Lr(e){return e[Symbol.iterator]=Vr,e}function Vr(){return this}if(["Symbol","Map","Set"].forEach((function(e){void 0===P()[e]&&A("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Tr},$mobx:ve}),!e.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Vn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Hr(e){e()}function Fr(e){return yn(Pr(e,t));var t}var zr,Kr,Br=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Ur=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:Br)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null}));function Wr(e){e.reaction=new Ut("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}var Gr="function"==typeof Symbol&&Symbol.for,qr=null!==(Kr=null===(zr=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===zr?void 0:zr.configurable)&&void 0!==Kr&&Kr,Zr=Gr?Symbol.for("react.forward_ref"):"function"==typeof e.forwardRef&&e.forwardRef((function(e){return null})).$$typeof,Xr=Gr?Symbol.for("react.memo"):"function"==typeof e.memo&&e.memo((function(e){return null})).$$typeof;function $r(t,n){var r;if(Xr&&t.$$typeof===Xr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=null!==(r=null==n?void 0:n.forwardRef)&&void 0!==r&&r,o=t,a=t.displayName||t.name;if(Zr&&t.$$typeof===Zr&&(i=!0,"function"!=typeof(o=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l,c,u=function(e,t){return function(e,t){void 0===t&&(t="observed");var n=s.default.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return Ur.unregister(r),r.onStoreChange=e,r.reaction||(Wr(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i,o,a=n.current;if(a.reaction||(Wr(a),Ur.register(n,a,a)),s.default.useDebugValue(a.reaction,Fr),s.default.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot),a.reaction.track((function(){try{i=e()}catch(e){o=e}})),o)throw o;return i}((function(){return o(e,t)}),a)};return u.displayName=t.displayName,qr&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=e.forwardRef(u)),u=e.memo(u),l=t,c=u,Object.keys(l).forEach((function(e){Jr[e]||Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(l,e))})),u}var Jr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=Hr),_n({reactionScheduler:e})}(t.unstable_batchedUpdates),Ur.finalizeAllImmediately;var Yr,Qr={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */Yr=Qr,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&n.push(s)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var a in i)e.call(i,a)&&i[a]&&n.push(a)}}}return n.join(" ")}Yr.exports?(t.default=t,Yr.exports=t):window.classNames=t}();var ei=Qr.exports;const ti=e.forwardRef((function(t,n){let{className:r,borderTop:i,clickable:o,previewAsHidden:s,wrapText:a,alignment:l,tabIndex:c,...u}=t;return e.createElement("div",{className:ei("td",{"td-borders":i,clickable:o,"hidden-column-preview":s,"wrap-text":a,["align-column-".concat(l)]:"string"==typeof l},r),role:"gridcell",tabIndex:null!=c?c:o?0:void 0,ref:n,...u})})),ni=e.memo(ti),ri=Symbol("DefaultKeyNavContextValue"),ii=e.createContext(ri);function oi(t){let{focusController:n,children:r}=t;const i=e.useMemo((()=>({focusController:n})),[n]);return e.createElement(ii.Provider,{value:i},r)}function si(e,t){return"".concat(e,",").concat(t)}function ai(e){const[t,n]=e.split(",");return[parseInt(t,10),parseInt(n,10)]}function li(t){const n=e.useRef(null),r=e.useRef(t.focusTarget),{focusController:i}=function(){const t=e.useContext(ii);if(t===ri)throw new Error("useKeyNavContext: context provider is missing");return t}(),[o,s]=e.useMemo((()=>{const e=si(t.columnIndex,t.rowIndex);return[e===i.focusTarget,e]}),[t.columnIndex,t.rowIndex,i.focusTarget]),[a,l]=e.useState({canFocus:!1});return e.useEffect((()=>{const e=e=>l((t=>e.lastPos===s?{canFocus:!1}:e.targetPos===s?{canFocus:e.shouldFocus}:t));return i.addListener(e),()=>i.removeListener(e)}),[i,s]),e.useEffect((()=>{const{current:e}=r;if(a.canFocus){const t="function"==typeof e?e():n.current;null==t||t.focus()}}),[a]),{ref:n,tabIndex:o?0:-1,"data-position":s}}const ci=$r((function(t){var n;const r=li({columnIndex:null!==(n=t.columnIndex)&&void 0!==n?n:-1,rowIndex:t.rowIndex}),i=e.useMemo((()=>t.eventsController.getProps(t.item)),[t.item,t.eventsController]),o=at((()=>t.column.renderCellContent(t.item))).get();return e.createElement(ni,{alignment:t.column.alignment,borderTop:0===t.rowIndex,className:t.column.columnClass(t.item),wrapText:t.column.wrapText,clickable:t.clickable,previewAsHidden:t.preview&&(!t.column.isAvailable||t.column.isHidden),tabIndex:r.tabIndex,ref:r.ref,"data-position":r["data-position"],onClick:i.onClick,onDoubleClick:i.onDoubleClick,onMouseDown:i.onMouseDown,onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp,onFocus:i.onFocus},o)})),ui=ci;function di(t){let{direction:n}=t;const r="pagination-icon ".concat(n);switch(n){case"forward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),e.createElement("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})));case"step-forward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),e.createElement("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})));case"backward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),e.createElement("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})));case"step-backward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),e.createElement("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})));default:return e.createElement("div",null)}}function hi(t){var n,r,i,o,s,a,l;const c=void 0!==t.numberOfItems?Math.ceil(t.numberOfItems/t.pageSize):void 0,u=void 0!==c?c-1:0,d=void 0!==c,h=0===t.numberOfItems?0:t.page*t.pageSize+1,f=(v=t.canNextPage,g=t.numberOfItems,p=t.page,m=t.pageSize,v||!g?0===g?g:(p+1)*m:g);var v,g,p,m;const _=e=>{t.setPaginationIndex&&t.setPaginationIndex(e)};if(0===t.numberOfItems&&"always"!==t.showPagingButtons)return null;const b="".concat(h," to ").concat(f," ").concat(d?"of ".concat(null!==(n=t.numberOfItems)&&void 0!==n?n:(null!=c?c:1)*t.pageSize):"");return e.createElement("div",{"aria-label":null!==(r=t.labelPagination)&&void 0!==r?r:"Pagination",className:"pagination-bar"},e.createElement("button",{className:"btn pagination-button",disabled:0===t.page,...fi((()=>{t.gotoPage(0),_(0)})),"aria-label":null!==(i=t.labelFirstPage)&&void 0!==i?i:"Go to first page"},e.createElement(di,{direction:"step-backward"})),e.createElement("button",{className:"btn pagination-button",disabled:!t.canPreviousPage,...fi((()=>{t.previousPage(),_(t.page-1)})),"aria-label":null!==(o=t.labelPreviousPage)&&void 0!==o?o:"Go to previous page"},e.createElement(di,{direction:"backward"})),e.createElement("span",{className:"sr-only sr-only-focusable"},null!==(s=t.labelPagingStatus)&&void 0!==s?s:"Currently showing"," ",b),e.createElement("div",{"aria-hidden":!0,className:"paging-status"},b),e.createElement("button",{"aria-label":null!==(a=t.labelNextPage)&&void 0!==a?a:"Go to next page",className:"btn pagination-button",disabled:!t.canNextPage,...fi((()=>{t.nextPage(),_(t.page+1)}))},e.createElement(di,{direction:"forward"})),d&&e.createElement("button",{"aria-label":null!==(l=t.labelLastPage)&&void 0!==l?l:"Go to last page",className:"btn pagination-button",disabled:t.page===u||0===t.numberOfItems,...fi((()=>{t.gotoPage(u),_(u)}))},e.createElement(di,{direction:"step-forward"})))}function fi(e){return{onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e())}}}const vi=Symbol("NO_PROPS_VALUE"),gi=e.createContext(vi),pi=gi.Provider;function mi(){const t=e.useContext(gi);if(t===vi)throw new Error("useTableProps: failed to get value from props provider.");return t}function _i(t){let{id:n,value:r,onChange:i}=t;const o=e.useRef(null);return e.useEffect((()=>{o.current&&("all"===r||"none"===r?o.current.indeterminate=!1:"some"===r&&(o.current.indeterminate=!0))}),[r]),e.createElement("input",{id:n,type:"checkbox",className:"three-state-checkbox",ref:o,checked:"none"!==r,onChange:i})}function bi(){const{selectActionHelper:t,selectionStatus:n}=mi(),{showCheckboxColumn:r,showSelectAllToggle:i,onSelectAll:o}=t;if(!1===r)return e.createElement(e.Fragment,null);let s=null;if(i){if("unknown"===n)throw new Error("Don't know how to render checkbox with selectionStatus=unknown");s=e.createElement(_i,{value:n,onChange:o})}return e.createElement("div",{className:"th widget-datagrid-col-select",role:"columnheader"},s)}function yi(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current&&n.current.apply(void 0,t)}),[])}function wi(t){let{minWidth:n=50,setColumnWidth:r,onResizeEnds:i,onResizeStart:o}=t;const[s,a]=e.useState(!1),[l,c]=e.useState(0),[u,d]=e.useState(0),h=e.useRef(null),f=yi(o),v=e.useCallback((e=>{const t=e.touches?e.touches[0].screenX:e.screenX;if(c(t),a(!0),h.current){const e=h.current.parentElement;d(e.clientWidth)}f()}),[f]),g=e.useCallback((()=>{s&&(a(!1),d(0),null==i||i())}),[i,s]),p=yi(r),m=e.useCallback((e=>{if(!s)return;const t=e.touches?e.touches[0].screenX:e.screenX;if(u){let e=u-(l-t);e<n&&(e=n),p(e)}}),[s,u,l,n,p]);return e.useEffect((()=>(document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.addEventListener("touchmove",m),document.addEventListener("touchend",g),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",g)})),[m,g]),e.createElement("div",{"aria-hidden":!0,ref:h,className:"column-resizer",onMouseDown:v,onTouchStart:v},e.createElement("div",{className:"column-resizer-bar"}))}function Si(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.589893 7.715C0.724893 7.52 3.91989 3 7.99989 3C12.0799 3 15.2749 7.52 15.4099 7.715L15.6099 8L15.4099 8.285C15.2749 8.48 12.0799 13 7.99989 13C3.91989 13 0.724893 8.48 0.589893 8.285L0.389893 8L0.589893 7.715ZM1.62489 8C2.37489 8.96 4.98989 12 7.99989 12C11.0099 12 13.6249 8.96 14.3749 8C13.6249 7.04 11.0099 4 7.99989 4C4.98989 4 2.37489 7.04 1.62489 8ZM5.5 8C5.5 6.62 6.62 5.5 8 5.5C9.38 5.5 10.5 6.62 10.5 8C10.5 9.38 9.38 10.5 8 10.5C6.62 10.5 5.5 9.38 5.5 8ZM6.5 8C6.5 8.825 7.175 9.5 8 9.5C8.825 9.5 9.5 8.825 9.5 8C9.5 7.175 8.825 6.5 8 6.5C7.175 6.5 6.5 7.175 6.5 8Z",fill:"currentColor"}))}function Ci(t,n){e.useEffect((()=>{const{current:e}=Array.isArray(t)?t[0]:t;if(!e)return;const r=e.ownerDocument,i=function(e,t){const n=Array.isArray(e)?e:[e];return e=>{n.every((t=>{let{current:n}=t;return n&&!n.contains(e.target)}))&&t()}}(t,n);return r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),()=>{r.removeEventListener("mousedown",i),r.removeEventListener("touchstart",i)}}),[t,n])}function xi(t,n){const[r,i]=e.useState(),o=e.useCallback((()=>{i((e=>{const n=null==t?void 0:t.getBoundingClientRect();return i=n,(r=e)&&i&&r.height===i.height&&r.width===i.width&&r.bottom===i.bottom&&r.top===i.top&&r.left===i.left&&r.right===i.right?e:n;var r,i}))}),[t]);var s;return s=n?o:void 0,e.useEffect((()=>s?function(e){let t;const n=()=>{t=window.requestAnimationFrame((()=>{e(),n()}))},r=()=>window.cancelAnimationFrame(t);return n(),r}(s):void 0),[s]),r}function Ei(t){var n;const{visibleLength:r}=t,[i,o]=e.useState(!1),s=e.useRef(null),a=e.useRef(null),l=xi(a.current,i);Ci([a,s],(()=>o(!1)));const c=null!==(n=t.label)&&void 0!==n?n:"Column selector",u=(t=>{const n=t.current,[r,i]=e.useState(!0);return e.useLayoutEffect((()=>{const e=null==n?void 0:n.getBoundingClientRect(),t=!e||e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth);i(t)}),[n]),r})(s),d=e.useMemo((()=>t.columns.findIndex((e=>e.canHide))),[t.columns]),h=e.useMemo((()=>t.columns.map((e=>e.canHide)).lastIndexOf(!0)),[t.columns]),f=e.createElement("ul",{ref:s,id:"".concat(t.id,"-column-selectors"),className:"column-selectors ".concat(u?"":"overflow"),"data-focusindex":0,role:"menu",style:{position:"fixed",top:null==l?void 0:l.bottom,right:void 0!==(null==l?void 0:l.right)?document.body.clientWidth-l.right:void 0}},t.columns.map(((n,i)=>{const s=!n.isHidden,l=s&&1===r,c=()=>{l||n.toggleHidden()};return n.canHide?e.createElement("li",{key:n.columnId,onClick:e=>{e.preventDefault(),e.stopPropagation(),c()},onKeyDown:e=>{var t;"Enter"===e.key||" "===e.key?(e.preventDefault(),e.stopPropagation(),c()):("Tab"===e.key&&(i===h||e.shiftKey&&i===d)||"Escape"===e.key)&&(e.preventDefault(),o(!1),null===(t=a.current)||void 0===t||t.focus())},role:"menuitem",tabIndex:0},e.createElement("input",{checked:s,disabled:l,id:"".concat(t.id,"_checkbox_toggle_").concat(i),style:{pointerEvents:"none"},type:"checkbox",tabIndex:-1,onChange:Oi}),e.createElement("label",{htmlFor:"".concat(t.id,"_checkbox_toggle_").concat(i),style:{pointerEvents:"none"}},n.header)):null}))),v=e.useCallback((()=>{o((e=>!e)),setTimeout((()=>{var e,t;null===(t=null===(e=s.current)||void 0===e?void 0:e.querySelector("li"))||void 0===t||t.focus()}),10)}),[]);return e.createElement("div",{"aria-label":c,className:"th column-selector",role:"columnheader",title:c},e.createElement("div",{className:"column-selector-content"},e.createElement("button",{"aria-label":c,ref:a,className:"btn btn-default column-selector-button",onClick:v,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),v())},"aria-haspopup":!0,"aria-expanded":i,"aria-controls":"".concat(t.id,"-column-selectors")},e.createElement(Si,null))),i&&f)}function Oi(){}function Ai(t){const{children:n,className:r,...i}=t;return e.createElement("div",{className:ei("widget-datagrid-grid table",r),role:"grid",...i},n)}function ki(t){return e.createElement("div",{...t,className:ei("widget-datagrid-grid-body table-content",t.className),role:"rowgroup"})}function Pi(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"svg-inline--fa fa-long-arrow-alt-down fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"}))}function Ii(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-up",className:"svg-inline--fa fa-long-arrow-alt-up fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"}))}function Ti(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrows-alt-v",className:"svg-inline--fa fa-arrows-alt-v fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"}))}function Ni(t){var n,r,i,o,s;const a=t.sortable&&t.column.canSort,l=function(t,n,r,i,o,s){const a=e.useCallback((e=>{var t,n,r,i,o;const a=e.target.closest(".th"),l=null!==(t=a.dataset.columnId)&&void 0!==t?t:"",c=null===(r=null===(n=a.previousElementSibling)||void 0===n?void 0:n.dataset)||void 0===r?void 0:r.columnId,u=null===(o=null===(i=a.nextElementSibling)||void 0===i?void 0:i.dataset)||void 0===o?void 0:o.columnId;s([c,l,u])}),[s]),l=e.useCallback((e=>{if(!o)return;const t=e.currentTarget.dataset.columnId;if(!t)return;e.preventDefault();const[n,s,a]=o;if(t===s)return void(void 0!==r&&i(void 0));let l;if(t===n)l=!1;else if(t===a)l=!0;else{const t=e.currentTarget.getBoundingClientRect();l=t.width/2+("after"===(null==r?void 0:r[1])?-10:10)<e.clientX-t.left}const c=l?"after":"before";t===(null==r?void 0:r[0])&&c===(null==r?void 0:r[1])||i([t,c])}),[o,r,i]),c=e.useCallback((e=>{e.preventDefault()}),[]),u=e.useCallback((()=>{s(void 0),i(void 0)}),[i,s]),d=e.useCallback((e=>{u(),o&&r&&n(o[1],r)}),[u,n,o,r]);return t?{draggable:!0,onDragStart:a,onDragOver:l,onDrop:d,onDragEnter:c,onDragEnd:u}:{}}(t.draggable&&null!==(n=t.column.canDrag)&&void 0!==n&&n,t.swapColumns,t.dropTarget,t.setDropTarget,t.isDragging,t.setIsDragging),c=a?function(t){switch(t.sortDir){case"asc":return e.createElement(Ii,null);case"desc":return e.createElement(Pi,null);default:return e.createElement(Ti,null)}}(t.column):null,u=a?(d=t.column,{onClick:()=>{d.toggleSort()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d.toggleSort())},role:"button",tabIndex:0}):null;var d;const h=t.column.header.trim();return e.createElement("div",{"aria-sort":Di(a,t.column),className:ei("th",{"hidden-column-preview":t.preview&&(!t.column.isAvailable||t.hidable&&t.column.isHidden)},{["drop-".concat(null===(r=t.dropTarget)||void 0===r?void 0:r[1])]:t.column.columnId===(null===(i=t.dropTarget)||void 0===i?void 0:i[0]),dragging:t.column.columnId===(null===(o=t.isDragging)||void 0===o?void 0:o[1]),"dragging-over-self":t.column.columnId===(null===(s=t.isDragging)||void 0===s?void 0:s[1])&&!t.dropTarget}),role:"columnheader",style:a?void 0:{cursor:"unset"},title:h,ref:e=>t.column.setHeaderElementRef(e),"data-column-id":t.column.columnId,onDrop:l.onDrop,onDragEnter:l.onDragEnter,onDragOver:l.onDragOver},e.createElement("div",{className:ei("column-container"),id:"".concat(t.gridId,"-column").concat(t.column.columnId),draggable:l.draggable,onDragStart:l.onDragStart,onDragEnd:l.onDragEnd},e.createElement("div",{className:ei("column-header",{clickable:a},t.className),style:{pointerEvents:t.isDragging?"none":void 0},...u,"aria-label":a?"sort "+h:h},e.createElement("span",null,h.length>0?h:" "),c),t.filterable&&t.filterWidget),t.resizable&&t.column.canResize&&t.resizer)}function Di(e,t){if(e)switch(t.sortDir){case"asc":return"ascending";case"desc":return"descending";default:return"none"}}function Mi(t){return e.createElement(ni,{...t,className:"column-selector"})}function Ri(t){let{item:n,rowIndex:r,lastRow:i,...o}=t;const s=li({columnIndex:0,rowIndex:r}),{selectActionHelper:a,checkboxEventsController:l,selectRowLabel:c,rowClickable:u}=mi();return e.createElement(ni,{...o,clickable:u,className:"widget-datagrid-col-select",tabIndex:-1},e.createElement("input",{checked:a.isSelected(n),type:"checkbox",tabIndex:s.tabIndex,"data-position":s["data-position"],onChange:Li,onFocus:i?ji:void 0,ref:s.ref,"aria-label":"".concat(null!=c?c:"Select row"," ").concat(r+1),...l.getProps(n)}))}function ji(e){var t;"function"==typeof(null===(t=e.target.parentElement)||void 0===t?void 0:t.scrollIntoView)&&e.target.parentElement.scrollIntoView(!1)}function Li(){}function Vi(t){const{CellComponent:n}=t,{selectActionHelper:r,preview:i,data:o,rowClickable:s,cellEventsController:a}=mi(),l=r.isSelected(t.item),c="None"===r.selectionType?void 0:l,u=0===t.index;return e.createElement("div",{className:ei("tr",{"tr-selected":l,"tr-preview":i},t.className),role:"row","aria-selected":c},r.showCheckboxColumn&&e.createElement(Ri,{item:t.item,key:"checkbox_cell",borderTop:u,rowIndex:t.index,lastRow:t.index===o.length-1}),t.columns.map(((o,l)=>{const c=e.createElement(n,{key:"row_".concat(t.item.id,"_col_").concat(o.columnId),column:o,rowIndex:t.index,columnIndex:r.showCheckboxColumn?l+1:l,item:t.item,clickable:s,preview:i,eventsController:a});return i?t.selectableWrapper(l,c):c})),t.showSelectorCell&&e.createElement(Mi,{key:"column_selector_cell",borderTop:u,clickable:s,tabIndex:-1}))}function Hi(t){var n,r;const[i,o]=e.useState(!1),s=null!==(r=(n=e.useRef()).current)&&void 0!==r?r:n.current=function(e){let{setIsIntersecting:t}=e;return new IntersectionObserver((e=>{let[n]=e;t(n.isIntersecting)}))}({setIsIntersecting:o});return e.useEffect((()=>(t.current&&s.observe(t.current),()=>{s.disconnect()})),[s,t]),i}const Fi=30;function zi(){const t=e.useRef(null),[n,r]=e.useState(1);return e.useEffect((()=>{const e=t.current;if(null!==e)return function(e,t){const n=new IntersectionObserver((e=>{let[n]=e;0!==n.intersectionRatio&&1!==n.intersectionRatio||t(n.intersectionRatio)}),{threshold:[0,1]});return n.observe(e),()=>n.unobserve(e)}(e,r)}),[]),e.createElement("div",{className:ei("sticky-sentinel",{"container-stuck":0===n}),ref:t,style:{height:1,marginBottom:"-1px"}})}function Ki(t){let{children:n,className:r,hasMoreItems:i,isInfinite:o,style:s,setPage:a,paginationType:l}=t;const[c,u,d]=function(t){const{setPage:n,hasMoreItems:r,isInfinite:i}=t,[o,s]=e.useState(0),a=e.useRef(null),l=Hi(a),c=e.useCallback((e=>{Math.floor(e.target.scrollHeight-Fi-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&r&&n&&n((e=>e+1))}),[r,n]),u=e.useCallback((()=>{l&&i&&r&&o<=0&&a.current&&s(a.current.clientHeight-Fi)}),[i,r,o,l]);return e.useLayoutEffect((()=>{setTimeout((()=>u()),100)}),[u]),[c,o,a]}({hasMoreItems:i,isInfinite:o,setPage:a});return e.createElement("div",{className:ei("widget-datagrid-content","sticky-table-container",{"infinite-loading":o},r),ref:d,onScroll:o&&"loadMore"!==l?c:void 0,style:o&&u>0?{...s,maxHeight:u}:s},e.createElement(zi,null),n)}function Bi(t){const{pagingPosition:n,pagination:r,paginationType:i,loadMoreButtonCaption:o,hasMoreItems:s,setPage:a,...l}=t;return e.createElement("div",{...l,className:"widget-datagrid-footer table-footer"},("bottom"===n||"both"===n)&&r,s&&"loadMore"===i&&e.createElement("button",{className:"btn btn-primary widget-datagrid-load-more",onClick:()=>a&&a((e=>e+1)),tabIndex:0},o))}function Ui(t){const{children:n,headerTitle:r,...i}=t;return n?e.createElement("div",{...i,className:"widget-datagrid-header header-filters","aria-label":r||void 0},n):null}function Wi(t){const n=e.useRef(null),{className:r,selectionMethod:i,selection:o,exporting:s,children:a,...l}=t,c=e.useMemo((()=>{const e={...t.style};return s&&n.current&&(e.height=n.current.offsetHeight),e}),[t.style,s]);return e.createElement("div",{...l,ref:n,style:c,className:ei(r,"widget-datagrid",{"widget-datagrid-exporting":s,"widget-datagrid-selectable-rows":o,"widget-datagrid-selection-method-checkbox":o&&"checkbox"===i,"widget-datagrid-selection-method-click":o&&"rowClick"===i})},a)}function Gi(t){return e.createElement("div",{...t,className:"widget-datagrid-top-bar table-header"},t.children)}function qi(t){return e.createElement("div",{className:"widget-datagrid-modal-root",role:"presentation"},e.createElement("div",{className:"widget-datagrid-modal-overlay",role:"presentation"}),e.createElement("div",{className:"widget-datagrid-modal-main",role:"presentation"},t.children))}function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}function Xi(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const o=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)["__scope".concat(i)]}}),{});return e.useMemo((()=>({["__scope".concat(i.scopeName)]:r})),[r])}};return o.scopeName=i.scopeName,o}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}function Ji(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)))}const Yi=e.forwardRef(((t,n)=>{const{children:r,...i}=t,o=e.Children.toArray(r),s=o.find(to);if(s){const t=s.props.children,r=o.map((n=>n===s?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return e.createElement(Qi,$i({},i,{ref:n}),e.isValidElement(t)?e.cloneElement(t,void 0,r):null)}return e.createElement(Qi,$i({},i,{ref:n}),r)}));Yi.displayName="Slot";const Qi=e.forwardRef(((t,n)=>{const{children:r,...i}=t;return e.isValidElement(r)?e.cloneElement(r,{...no(i,r.props),ref:n?Ji(n,r.ref):r.ref}):e.Children.count(r)>1?e.Children.only(null):null}));Qi.displayName="SlotClone";const eo=t=>{let{children:n}=t;return e.createElement(e.Fragment,null,n)};function to(t){return e.isValidElement(t)&&t.type===eo}function no(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){o(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const ro=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((t,r)=>{const{asChild:i,...o}=t,s=i?Yi:n;return e.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),e.createElement(s,$i({},o,{ref:r}))}));return r.displayName="Primitive.".concat(n),{...t,[n]:r}}),{}),io="Progress",oo=100,[so,ao]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const i=(null==r?void 0:r[t])||n;return e.useMemo((()=>({["__scope".concat(t)]:{...r,[t]:i}})),[r,i])}};return i.scopeName=t,[function(n,i){const o=e.createContext(i),s=r.length;function a(n){const{scope:r,children:i,...a}=n,l=(null==r?void 0:r[t][s])||o,c=e.useMemo((()=>a),Object.values(a));return e.createElement(l.Provider,{value:c},i)}return r=[...r,i],a.displayName=n+"Provider",[a,function(r,a){const l=(null==a?void 0:a[t][s])||o,c=e.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},Xi(i,...n)]}(io),[lo,co]=so(io),uo=e.forwardRef(((t,n)=>{const{__scopeProgress:r,value:i,max:o,getValueLabel:s=fo,...a}=t,l=po(o)?o:oo,c=mo(i,l)?i:null,u=go(c)?s(c,l):void 0;return e.createElement(lo,{scope:r,value:c,max:l},e.createElement(ro.div,Zi({"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":go(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vo(c,l),"data-value":null!=c?c:void 0,"data-max":l},a,{ref:n})))}));uo.propTypes={max(e,t,n){const r=e[t],i=String(r);return r&&!po(r)?new Error(function(e,t){return"Invalid prop `max` of value `".concat(e,"` supplied to `").concat(t,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(oo,"`.")}(i,n)):null},value(e,t,n){const r=e[t],i=String(r),o=po(e.max)?e.max:oo;return null==r||mo(r,o)?null:new Error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(oo," if no `max` prop is set)\n  - `null` if the progress is indeterminate.\n\nDefaulting to `null`.")}(i,n))}};const ho=e.forwardRef(((t,n)=>{var r;const{__scopeProgress:i,...o}=t,s=co("ProgressIndicator",i);return e.createElement(ro.div,Zi({"data-state":vo(s.value,s.max),"data-value":null!==(r=s.value)&&void 0!==r?r:void 0,"data-max":s.max},o,{ref:n}))}));function fo(e,t){return"".concat(Math.round(e/t*100),"%")}function vo(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function go(e){return"number"==typeof e}function po(e){return go(e)&&!isNaN(e)&&e>0}function mo(e,t){return go(e)&&!isNaN(e)&&e<=t&&e>=0}const _o=uo,bo=ho;function yo(){return e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},e.createElement("path",{d:"M14.205 3.205L12.795 1.795L8 6.585L3.205 1.795L1.795 3.205L6.585 8L1.795 12.795L3.205 14.205L8 9.415L12.795 14.205L14.205 12.795L9.415 8L14.205 3.205Z",fill:"currentColor"}))}function wo(){return e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},e.createElement("rect",{x:"13.3773",y:"10.5415",width:"5.30402",height:"14.7575",fill:"white"}),e.createElement("path",{d:"M29.71 24.97L23.77 15.11L17.64 4.94C16.89 3.69 15.11 3.69 14.36 4.94L8.23002 15.11L2.29002 24.97C1.50002 26.29 2.42002 28 3.94002 28H28.06C29.58 28 30.5 26.29 29.71 24.97ZM16 25C14.9 25 14 24.1 14 23C14 22 14.74 21.18 15.7 21.03C15.8 21.01 15.9 21 16 21C16.1 21 16.21 21.01 16.3 21.03C17.26 21.18 18 22 18 23C18 24.1 17.1 25 16 25ZM18 19H14V11H18V19Z",fill:"currentColor"}))}function So(t){let{alertLabel:n,cancelLabel:r,failed:i,onCancel:o,progress:s,total:a}=t;const[l]=e.useState((()=>"widget-datagrid-export-alert-".concat(O())));return e.createElement("div",{id:l,className:ei("widget-datagrid-export-alert",{"widget-datagrid-export-alert-failed":i}),role:"status","aria-live":"off","aria-label":n},e.createElement("button",{role:"button",className:"btn btn-image btn-icon widget-datagrid-export-alert-cancel",onClick:o,"aria-label":r,tabIndex:0},e.createElement(yo,null)),e.createElement("div",{className:"widget-datagrid-export-alert-message"},i?e.createElement(wo,null):e.createElement("p",null,xo(a)?function(e,t){return"".concat(e," / ").concat(t)}(s,a):s)),e.createElement(Co,{progress:s,total:a}))}function Co(t){let{progress:n,total:r}=t;const i=xo(r)&&r;return e.createElement(_o,{className:"widget-datagrid-export-progress",value:i?n:null,max:r},e.createElement(bo,{className:ei("widget-datagrid-export-progress-indicator",{"widget-datagrid-export-progress-indicator-indeterminate":!i}),style:i?Eo(n,r):void 0}))}function xo(e){return"number"==typeof e&&e>0}function Eo(e,t){return{transform:"translateX(-".concat(100-Oo(e,0,t),"%)")}}function Oo(e,t,n){if(e<t)return 0;if(e>n)return 100;const r=n-t,i=Math.round((e-t)/r*100);return Math.abs(i)}function Ao(t){let{open:n,...r}=t;return n?e.createElement(qi,null,e.createElement(So,{...r})):null}const ko=$r((t=>{var n,r;const{className:i,exporting:o,numberOfItems:s,onExportCancel:a,selectActionHelper:l}=t,c="None"!==l.selectionType;return e.createElement(pi,{value:t},e.createElement(Wi,{className:i,selectionMethod:l.selectionMethod,selection:c,style:{},exporting:o},e.createElement(Po,{...t,data:o?[]:t.data}),o&&e.createElement(Ao,{alertLabel:null!==(n=t.exportDialogLabel)&&void 0!==n?n:"Export progress",cancelLabel:null!==(r=t.cancelExportLabel)&&void 0!==r?r:"Cancel data export",failed:!1,onCancel:a,open:o,progress:t.processedRows,total:s})))})),Po=$r((t=>{const{availableColumns:n,CellComponent:r,columnsDraggable:i,columnsFilterable:o,columnsHidable:s,columnsResizable:a,columnsSortable:l,data:c,emptyPlaceholderRenderer:u,filterRenderer:d,hasMoreItems:h,headerContent:f,headerTitle:v,headerWrapperRenderer:g,id:p,loadMoreButtonCaption:m,numberOfItems:_,page:b,pageSize:y,paginationType:w,paging:S,pagingPosition:C,preview:x,selectActionHelper:E,setPage:O,visibleColumns:A}=t,k=!S,[P,I]=e.useState(),[T,N]=e.useState(void 0),D=!!f,M=S&&("top"===C||"both"===C),R=e.useCallback((t=>e.createElement("div",{className:"filter",style:{pointerEvents:P?"none":void 0}},t)),[P]),j=S?e.createElement(hi,{canNextPage:h,canPreviousPage:0!==b,gotoPage:e=>O&&O((()=>e)),nextPage:()=>O&&O((e=>e+1)),numberOfItems:_,page:b,pageSize:y,showPagingButtons:t.showPagingButtons,previousPage:()=>O&&O((e=>e-1))}):null,L=function(e,t){const n=e.map((t=>{const n=e.at(-1)===t,r=t.size;return r?n?"minmax(min-content, auto)":"".concat(r,"px"):t.getCssWidth()})),r=[];t.selectItemColumn&&r.push("48px");r.push(...n),t.visibilitySelectorColumn&&r.push("54px");return{gridTemplateColumns:r.join(" ")}}(A,{selectItemColumn:E.showCheckboxColumn,visibilitySelectorColumn:s}),V="None"!==E.selectionType;return e.createElement(e.Fragment,null,M&&e.createElement(Gi,null,j),D&&e.createElement(Ui,{headerTitle:v},f),e.createElement(Ki,{isInfinite:k,hasMoreItems:h,setPage:O,paginationType:w},e.createElement(Ai,{"aria-multiselectable":V?"Multi"===E.selectionType:void 0},e.createElement(ki,{style:L},e.createElement("div",{key:"headers_row",className:"tr",role:"row"},e.createElement(bi,{key:"headers_column_select_all"}),A.map(((n,r)=>g(r,e.createElement(Ni,{key:"".concat(n.columnId),className:"align-column-".concat(n.alignment),gridId:t.id,column:n,draggable:i,dropTarget:T,filterable:o,filterWidget:d(R,n.columnIndex),hidable:s,isDragging:P,preview:x,resizable:a&&A.at(-1)!==n,resizer:e.createElement(wi,{onResizeStart:t.columnsCreateSizeSnapshot,setColumnWidth:e=>n.setSize(e)}),swapColumns:t.columnsSwap,setDropTarget:N,setIsDragging:I,sortable:l})))),s&&e.createElement(Ei,{key:"headers_column_selector",columns:n,id:p,visibleLength:A.length})),e.createElement(oi,{focusController:t.focusController},c.map(((n,i)=>{var o;return e.createElement(Vi,{CellComponent:r,className:null===(o=t.rowClass)||void 0===o?void 0:o.call(t,n),columns:A,index:i,item:n,key:"row_".concat(n.id),showSelectorCell:s,selectableWrapper:g})}))),(0===c.length||x)&&u&&u((t=>e.createElement("div",{key:"row-footer",className:ei("td",{"td-borders":!x}),style:{gridColumn:"span ".concat(A.length+(s?1:0)+(E.showCheckboxColumn?1:0))}},e.createElement("div",{className:"empty-placeholder"},t))))))),e.createElement(Bi,{pagination:j,pagingPosition:C,paginationType:w,loadMoreButtonCaption:m,hasMoreItems:h,setPage:O}))}));const Io=e.memo((t=>{const n=(void 0===window[x]&&(window[x]=e.createContext(void 0)),window[x]),r=function(){let t=window[l];return null==t&&(t=e.createContext(void 0),window[l]=t),t}();return e.createElement(r.Provider,{value:{eventsChannelName:t.eventsChannelName,filterDispatcher:e=>(e.filterType&&(t.headerFilterStore.setFilterState(e.filterType,e),t.headerFilterStore.setDirty()),e),...t.headerFilterStore.getFilterContextProps()}},e.createElement(n.Provider,{value:t.selectionContextValue},t.children))}));Io.displayName="WidgetHeaderContext";const To=Io,No=t=>{const{pagination:n,showPagingButtons:r,totalCount:i,limit:o}=t;return e.useMemo((()=>"buttons"===n&&("always"===r||"auto"===r&&!!i&&i>o)),[n,r,i,o])};class Do extends E{constructor(e,t,n,r,i,o){super(e,t),this._selectionMode=o,this._selectionMethod=n,this._showSelectAllToggle=r,this.pageSize=i}get selectionMethod(){return"None"===this.selectionType?"none":this._selectionMethod}get showCheckboxColumn(){return"checkbox"===this.selectionMethod}get showSelectAllToggle(){return this._showSelectAllToggle&&"Multi"===this.selectionType}get selectionMode(){return"checkbox"===this.selectionMethod?"toggle":this._selectionMode}}class Mo{constructor(e,t){v(this,"trigger",void 0),v(this,"listAction",void 0),v(this,"onExecuteAction",(e=>{this.listAction&&"get"in this.listAction&&g(this.listAction.get(e))})),this.trigger=e,this.listAction=t}get clickTrigger(){return this.listAction?this.trigger:"none"}update(e){this.listAction=e}}function Ro(e){return e.reduce(((e,t)=>{var n,r,i,o,s,a;switch(t.eventName){case"onClick":e.onClick=null!==(n=e.onClick)&&void 0!==n?n:[],e.onClick.push(t);break;case"onDoubleClick":e.onDoubleClick=null!==(r=e.onDoubleClick)&&void 0!==r?r:[],e.onDoubleClick.push(t);break;case"onKeyDown":e.onKeyDown=null!==(i=e.onKeyDown)&&void 0!==i?i:[],e.onKeyDown.push(t);break;case"onKeyUp":e.onKeyUp=null!==(o=e.onKeyUp)&&void 0!==o?o:[],e.onKeyUp.push(t);break;case"onMouseDown":e.onMouseDown=null!==(s=e.onMouseDown)&&void 0!==s?s:[],e.onMouseDown.push(t);break;case"onFocus":e.onFocus=null!==(a=e.onFocus)&&void 0!==a?a:[],e.onFocus.push(t)}return e}),{})}function jo(e,t){const n=Ro(t);return{onClick(t){var r;null===(r=n.onClick)||void 0===r||r.forEach((n=>Lo(e,t,n)))},onDoubleClick(t){var r;null===(r=n.onDoubleClick)||void 0===r||r.forEach((n=>Lo(e,t,n)))},onKeyUp(t){var r;null===(r=n.onKeyUp)||void 0===r||r.forEach((n=>Lo(e,t,n)))},onKeyDown(t){var r;null===(r=n.onKeyDown)||void 0===r||r.forEach((n=>Lo(e,t,n)))},onMouseDown(t){var r;null===(r=n.onMouseDown)||void 0===r||r.forEach((n=>Lo(e,t,n)))},onFocus(t){var r;null===(r=n.onFocus)||void 0===r||r.forEach((n=>Lo(e,t,n)))}}}function Lo(e,t,n){const r=e();(!n.filter||n.filter(r,t))&&n.handler(r,t)}const Vo=e=>({eventName:"onClick",filter:(e,t)=>"single"===e.clickTrigger&&"none"===e.selectionMethod||"single"===e.clickTrigger&&"checkbox"===e.selectionMethod&&!t.metaKey&&!t.ctrlKey,handler:t=>{let{item:n}=t;return e(n)}}),Ho=e=>({eventName:"onDoubleClick",filter:(e,t)=>"none"===e.selectionMethod?"double"===e.clickTrigger:"double"===e.clickTrigger&&!t.metaKey&&!t.ctrlKey,handler:t=>{let{item:n}=t;return e(n)}}),Fo=(e,t)=>"Space"===t.code&&"none"!==e.clickTrigger?!t.shiftKey||"none"===e.selectionMethod:"Enter"===t.code&&"none"!==e.clickTrigger,zo=e=>{let t=!1;return[{eventName:"onKeyDown",filter:Fo,handler:()=>t=!0},{eventName:"onKeyUp",filter:(e,n)=>Fo(e,n)&&t,handler:n=>{let{item:r}=n;t=!1,e(r)}}]};function Ko(e){return[Vo(e),Ho(e),(t=e=>{e.preventDefault(),e.stopPropagation()},{eventName:"onKeyDown",filter:(e,t)=>function(e){return"Space"===e.code&&e.target===e.currentTarget}(t),handler:(e,n)=>t(n)}),...zo(e)];var t}function Bo(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}function Uo(){document.body.style.userSelect="none"}const Wo=()=>{Wo.timeoutId&&clearTimeout(Wo.timeoutId),Wo.timeoutId=window.setTimeout((()=>{Bo(),document.body.style.userSelect="",Wo.timeoutId=void 0}),250)},Go=e=>({eventName:"onClick",filter:(e,t)=>"rowClick"===e.selectionMethod?"single"!==e.clickTrigger:"checkbox"===e.selectionMethod&&(t.metaKey||t.ctrlKey),handler:(t,n)=>{let{item:r,selectionMode:i}=t,o=!1;o||(o="toggle"===i),o||(o=n.metaKey),o||(o=n.ctrlKey),e(r,n.shiftKey,o)}}),qo=e=>({eventName:"onKeyUp",filter:(e,t)=>"none"!==e.selectionMethod&&function(e){return"Space"===e.code&&e.shiftKey}(t),handler:t=>{let{item:n}=t;return e(n,!1,!0)}});const Zo=e=>({eventName:"onClick",handler:(t,n)=>e({type:"Mouse",reactEvent:n})}),Xo=e=>({eventName:"onKeyDown",handler:(t,n)=>e({type:"Keyboard",reactEvent:n})}),$o=e=>({eventName:"onFocus",handler:(t,n)=>e({type:"Focus",reactEvent:n})});function Jo(e){return[Zo(e),Xo(e),$o(e)]}class Yo{constructor(e){v(this,"entries",void 0),this.entries=e}getClickEntry(){const{onClick:e=[],onDoubleClick:t=[]}=Ro(this.entries);let n=0;return{eventName:"onClick",handler:(r,i)=>{Date.now()-n>320?(e.forEach((e=>this.runEntry(e,r,i))),n=Date.now()):(t.forEach((e=>this.runEntry(e,r,i))),n=0)}}}runEntry(e,t,n){var r,i;(null===(r=null===(i=e.filter)||void 0===i?void 0:i.call(e,t,n))||void 0===r||r)&&e.handler(t,n)}}class Qo{constructor(e,t,n,r,i,o){this.contextFactory=e,this.selectFx=t,this.selectAllFx=n,this.selectAdjacentFx=r,this.executeActionFx=i,this.focusTargetFx=o}getProps(e){return jo((()=>this.contextFactory(e)),this.getEntries())}getEntries(){const e=[...(t=this.selectFx,n=this.selectAllFx,r=this.selectAdjacentFx,[(i=Bo,{eventName:"onMouseDown",filter:e=>"none"!==e.selectionMethod,handler:i}),Go(t),qo(t),w((()=>{Uo(),n("selectAll")}),(()=>Wo())),C(r)].flat()),...Ko(this.executeActionFx),...Jo(this.focusTargetFx)];var t,n,r,i;const o=e.filter((e=>"onClick"===e.eventName||"onDoubleClick"===e.eventName)),s=e.filter((e=>"onClick"!==e.eventName&&"onDoubleClick"!==e.eventName));return[new Yo(o).getClickEntry(),...s]}}const es=e=>({eventName:"onClick",filter:e=>"checkbox"===e.selectionMethod,handler:(t,n)=>{let{item:r}=t;return e(r,n.shiftKey,!0)}});function ts(e,t,n){return[es(e),...C(n),...w((()=>{Uo(),t("selectAll")}),(()=>Wo()))]}class ns{constructor(e,t,n,r,i){this.contextFactory=e,this.selectFx=t,this.selectAllFx=n,this.selectAdjacentFx=r,this.focusTargetFx=i,this.getProps=e=>jo((()=>this.contextFactory(e)),[...ts(this.selectFx,this.selectAllFx,this.selectAdjacentFx),...Jo(this.focusTargetFx)])}}class rs{constructor(e,t){v(this,"_listeners",void 0),v(this,"_focusTarget",void 0),v(this,"_positionController",void 0),v(this,"_layout",void 0),v(this,"dispatch",(e=>{const t=this._positionController.dispatch(e,this._layout);void 0!==t&&t!==this._focusTarget&&("Keyboard"===e.type?this._setTargetAndFocus(t):this._setTarget(t))})),this._listeners=[],this._focusTarget=this._getInitPosition(),this._positionController=e,this._layout=t}get focusTarget(){return this._focusTarget}addListener(e){this._listeners.push(e)}removeListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}updateGridLayout(e){this._layout=e,void 0===this._layout.get(ai(this._focusTarget))&&this._setTarget(this._getInitPosition())}_setTarget(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!1})}_setTargetAndFocus(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!0})}_emit(e){for(const t of this._listeners)t(e)}_getInitPosition(){return si(0,0)}}class is{constructor(e,t,n){v(this,"rows",void 0),v(this,"columns",void 0),v(this,"pageSize",void 0),v(this,"_positions",void 0),this.columns=t,this.rows=e,this.pageSize=n,this._positions=new Set;for(let n=0;n<e;n+=1)for(let e=0;e<t;e+=1)this._positions.add(si(e,n))}get(e){let[t,n]=e;const r=si(t<0?this.columns+t:t,n<0?this.rows+n:n);if(this._positions.has(r))return r}}const os=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","PageUp","PageDown","End","Home"]);const ss={ArrowUp:function(e){let[t,n]=e;return[t,Math.max(0,n-1)]},ArrowRight:function(e){let[t,n]=e;return[t+1,n]},ArrowDown:function(e){let[t,n]=e;return[t,n+1]},ArrowLeft:function(e){let[t,n]=e;return[Math.max(0,t-1),n]},PageUp:(e,t)=>function(e,t){let[n,r]=e;return[n,Math.max(0,r-t)]}(e,t.pageSize),PageDown:(e,t)=>function(e,t,n){let[r,i]=e;return[r,Math.min(n-1,i+t)]}(e,t.pageSize,t.rows),End:(e,t,n)=>{let{ctrlKey:r}=n;return r?[-1,-1]:function(e){let[t,n]=e;return[-1,n]}(e)},Home:(e,t,n)=>{let{ctrlKey:r}=n;return r?[0,0]:function(e){let[t,n]=e;return[0,n]}(e)}};class as{dispatch(e,t){return"Focus"===e.type?this._handleFocusEvent(e.reactEvent):"Mouse"===e.type?this._handleMouseEvent(e.reactEvent):this._handleKeyboardEvent(e.reactEvent,t)}_handleKeyboardEvent(e,t){if(n=e.code,!os.has(n))return;var n;if(!Object.hasOwn(ss,e.code))throw new Error("Keyboard nav: can't find handler for ".concat(e.code," key"));e.preventDefault();const r=ai(this._getTargetPosition(e));return t.get(ss[e.code](r,t,e))}_handleMouseEvent(e){return this._getTargetPosition(e)}_handleFocusEvent(e){return this._getTargetPosition(e)}_getTargetPosition(e){var t;const n=null===(t=e.currentTarget.dataset)||void 0===t?void 0:t.position;if(void 0===n)throw new Error("Keyboard navigation: target position is missing");return n}}const ls=Object.freeze({reset:{value:"reset.value",filters:"reset.filters"},set:{value:"set.value"}});let cs=()=>({emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let t=0,r=this.events[e]||[],i=r.length;t<i;t++)r[t](...n)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter((e=>t!==e))}}});const us="com.mendix.widgets.web.plugin.externalEvents";class ds{constructor(){v(this,"channels",void 0),v(this,"id",Math.random().toString().slice(2)),this.channels=new Map}disposeChannel(e){const t=this.channels.get(e);return t&&(t.events={}),this.channels.delete(e)}getChannel(e){let t=this.channels.get(e);return t||(t=cs(),this.channels.set(e,t),t)}emit(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];null===(n=this.channels.get(e))||void 0===n||n.emit(t,...i)}subscribe(e,t,n){return this.getChannel(e).on(t,n),()=>this.unsubscribe(e,t,n)}unsubscribe(e,t,n){const r=this.channels.get(e);if(!r)return;const i=r.events[t];i&&(r.events[t]=i.filter((e=>e!==n)));0===Object.values(r.events).flat().reduce(((e,t)=>t?e+1:e),0)&&this.disposeChannel(e)}}function hs(){var e,t;return null!==(t=(e=window)[us])&&void 0!==t?t:e[us]=function(){if(Object.prototype.hasOwnProperty.call(window,us))throw new Error("Widget plugin external events: plugin already initialized!");return new ds}()}const fs=function(){return hs().emit(...arguments)};function vs(t){var n,r,i;n=t.inputChannel,r=t.event,i=e.useRef((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.onEvent(fs,n)})).current,e.useEffect((()=>{if(void 0!==n)return hs().subscribe(n,r,i)}),[n,r])}class gs{constructor(e){this.rules=[],this.rules=e,Vn(this,{rules:rt.struct,toggleSort:rn})}getDirection(e){const t=this.rules.findIndex((t=>t[0]===e));if(-1===t)return;const[,n]=this.rules.at(t);return[n,t+1]}toggleSort(e){const[[t,n]=[]]=this.rules;this.rules=t&&t===e?"asc"!==n?[]:[[e,"desc"]]:[[e,"asc"]]}}class ps{constructor(e){var t;this.alignment=e.alignment,this.sortable=e.sortable,this.resizable=e.resizable,this.draggable=e.draggable,this.hidable="no"!==e.hidable,this.initiallyHidden="hidden"===e.hidable,this.wrapText=e.wrapText,this.showContentAs=e.showContentAs,this.weight=null!==(t=e.size)&&void 0!==t?t:1,this.width=e.width,this.minWidth=e.minWidth,this.minWidthLimit=e.minWidthLimit,this.allowEventPropagation=e.allowEventPropagation}get columnWidth(){switch(this.width){case"autoFit":{const e="manual"===this.minWidth?"".concat(this.minWidthLimit,"px"):"minContent"===this.minWidth?"min-content":"auto";return"minmax(".concat(e,", auto)")}case"manual":return"".concat(this.weight,"fr");default:return"1fr"}}}class ms{constructor(e,t,n){this.size=void 0,this.headerElementRef=null,this._visible=void 0,this._header=void 0,this._columnClass=void 0,this._tooltip=void 0,this._attribute=void 0,this._dynamicText=void 0,this._content=void 0,this.parentStore=n,this.baseInfo=new ps(t),this.columnIndex=e,this.isHidden=this.baseInfo.initiallyHidden,this.orderWeight=10*e,Vn(this,{_visible:rt.ref,_header:rt.ref,_columnClass:rt.ref,_tooltip:rt.ref,_attribute:rt.ref,_dynamicText:rt.ref,_content:rt.ref,isHidden:rt,size:rt,orderWeight:rt,updateProps:rn,toggleHidden:rn,setSize:rn,applySettings:rn,canSort:at,header:at,loaded:at,settings:at.struct}),this.updateProps(t)}updateProps(e){this._visible=e.visible,this._header=e.header,this._columnClass=e.columnClass,this._tooltip=e.tooltip,this._attribute=e.attribute,this._content=e.content,this._dynamicText=e.dynamicText}get alignment(){return this.baseInfo.alignment}get initiallyHidden(){return this.baseInfo.initiallyHidden}get wrapText(){return this.baseInfo.wrapText}get canDrag(){return this.baseInfo.draggable}get canHide(){return this.baseInfo.hidable}toggleHidden(){this.isHidden=!this.isHidden}get canResize(){return this.baseInfo.resizable&&!this.parentStore.isLastVisible(this)}setSize(e){this.size=e}get canSort(){var e;return this.baseInfo.sortable&&!!(null===(e=this._attribute)||void 0===e?void 0:e.sortable)}get sortDir(){var e;return null===(e=this.parentStore.sorting.getDirection(this.columnId))||void 0===e?void 0:e[0]}get sortWeight(){var e;return null===(e=this.parentStore.sorting.getDirection(this.columnId))||void 0===e?void 0:e[1]}toggleSort(){this.parentStore.sorting.toggleSort(this.columnId)}get columnId(){return this.columnIndex.toString()}get header(){var e,t;return null!==(t=null===(e=this._header)||void 0===e?void 0:e.value)&&void 0!==t?t:""}get isAvailable(){var e;return!this._visible||null!==(e=this._visible.value)&&void 0!==e&&e}get loaded(){return!this._visible||("loading"!==this._visible.status||void 0!==this._visible.value)}get attrId(){var e;return null===(e=this._attribute)||void 0===e?void 0:e.id}setHeaderElementRef(e){this.headerElementRef=e}takeSizeSnapshot(){var e;const t=null===(e=this.headerElementRef)||void 0===e?void 0:e.clientWidth;t&&this.setSize(t)}renderCellContent(t){var n,r,i,o,s,a,l;switch(this.baseInfo.showContentAs){case"attribute":case"dynamicText":return e.createElement("span",{className:"td-text",title:null===(r=null===(n=this._tooltip)||void 0===n?void 0:n.get(t))||void 0===r?void 0:r.value},"attribute"===this.baseInfo.showContentAs?null===(o=null===(i=this._attribute)||void 0===i?void 0:i.get(t))||void 0===o?void 0:o.displayValue:null===(a=null===(s=this._dynamicText)||void 0===s?void 0:s.get(t))||void 0===a?void 0:a.value);case"customContent":return e.createElement(ys,{allowEventPropagation:this.baseInfo.allowEventPropagation},null===(l=this._content)||void 0===l?void 0:l.get(t));default:throw new Error("Unknown content type: ".concat(this.baseInfo.showContentAs))}}columnClass(e){var t;return null===(t=this._columnClass)||void 0===t?void 0:t.get(e).value}getCssWidth(){return this.size?this.parentStore.isLastVisible(this)?"minmax(min-content, auto)":"".concat(this.size,"px"):this.baseInfo.columnWidth}get settings(){return{columnId:this.columnId,size:this.size,hidden:this.isHidden,orderWeight:this.orderWeight,sortDir:this.sortDir,sortWeight:this.sortWeight,filterSettings:void 0}}applySettings(e){this.size=e.size,this.canHide&&(this.isHidden=e.hidden),this.orderWeight=10*e.orderWeight}}const _s=e=>{e.stopPropagation()},bs=e=>{"Tab"!==e.code&&e.stopPropagation()};function ys(t){let{children:n,allowEventPropagation:r}=t;const i=r?{}:{onClick:_s,onKeyUp:_s,onKeyDown:bs};return e.createElement("div",{className:"td-custom-content",...i},n)}function ws(e){if(null==e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Did not expect an argument to be undefined");return e}class Ss{constructor(e,t){this.initialFilters=t,this.filterState=void 0,e.filterAssociationOptions&&e.filterAssociationOptions.setLimit(0),this.updateProps(e),Vn(this,{_attribute:rt.ref,_filter:rt.ref,_filterAssociation:rt.ref,_filterAssociationOptions:rt.ref,_filterAssociationOptionLabel:rt.ref,condition:at.struct,filterState:rt.ref,setFilterState:rn,updateProps:rn})}updateProps(e){this._attribute=e.attribute,this._filter=e.filter,this._filterAssociation=e.filterAssociation,this._filterAssociationOptions=e.filterAssociationOptions,this._filterAssociationOptionLabel=e.filterAssociationOptionLabel}get needsFilterContext(){return!!this._attribute||!!this._filterAssociation}renderFilterWidgets(){return this._filter}getFilterContextProps(){return{singleAttribute:this._attribute,singleInitialFilter:h(this._attribute,this.initialFilters),associationProperties:this.getColumnAssociationProps()}}getColumnAssociationProps(){if(!this._filterAssociation)return;const e=ws(this._filterAssociation,Cs("filterAssociation")),t=ws(this._filterAssociationOptions,Cs("filterAssociationOptions")),n=ws(this._filterAssociationOptionLabel,Cs("filterAssociationOptionLabel"));return{association:e,optionsSource:t,getOptionLabel:e=>{var t;return null!==(t=n.get(e).value)&&void 0!==t?t:"Error: unable to get caption"}}}setFilterState(e){this.filterState=e}get condition(){if(this.filterState)return this.filterState.getFilterCondition()}}const Cs=e=>"Can't map ColumnsType to AssociationProperties: ".concat(e," is undefined");class xs{constructor(e){var t,n;this._allColumnsById=new Map,this._allColumns=[],this.columnFilters=[],e.columns.forEach(((t,n)=>{const r=new ms(n,t,this);this._allColumnsById.set(r.columnId,r),this._allColumns[n]=r,this.columnFilters[n]=new Ss(t,e.datasource.filter)})),this.sorting=new gs((t=e.datasource.sortOrder,n=this._allColumns,t&&t.length?t.map((e=>{var t;const[r,i]=e,o=null===(t=n.find((e=>e.attrId===r)))||void 0===t?void 0:t.columnId;if(o)return[o,i]})).filter((e=>!!e)):[])),Vn(this,{_allColumns:rt,loaded:at,_allColumnsOrdered:at,availableColumns:at,visibleColumns:at,filterConditions:at.struct,settings:at.struct,updateProps:rn,createSizeSnapshot:rn,swapColumns:rn,applySettings:rn})}updateProps(e){e.columns.forEach(((e,t)=>{this._allColumns[t].updateProps(e),this.columnFilters[t].updateProps(e)})),this.visibleColumns.length<1&&this._allColumns.forEach((e=>{e.isHidden=!1}))}swapColumns(e,t){let[n,r]=t;const i=this._allColumnsById.get(e),o=this._allColumnsById.get(n);i.orderWeight=o.orderWeight+("after"===r?1:-1),this._allColumnsOrdered.forEach(((e,t)=>{e.orderWeight=10*t}))}createSizeSnapshot(){this._allColumns.forEach((e=>e.takeSizeSnapshot()))}get loaded(){return this._allColumns.every((e=>e.loaded))}get _allColumnsOrdered(){return[...this._allColumns].sort(((e,t)=>e.orderWeight-t.orderWeight))}get availableColumns(){return[...this._allColumnsOrdered].filter((e=>e.isAvailable))}get visibleColumns(){return[...this.availableColumns].filter((e=>!e.isHidden))}get filterConditions(){return this.columnFilters.map((e=>e.condition)).filter((e=>void 0!==e))}get sortInstructions(){return function(e,t){if(e.length)return e.map((e=>{var n;const[r,i]=e,o=null===(n=t.find((e=>e.columnId===r)))||void 0===n?void 0:n.attrId;if(o)return[o,i]})).filter((e=>!!e))}(this.sorting.rules,this._allColumns)}get settings(){return this._allColumns.map((e=>e.settings))}applySettings(e){e.forEach((e=>{const t=this._allColumnsById.get(e.columnId);t?t.applySettings(e):console.warn("Error while restoring personalization config. Column '".concat(e.columnId,"' is not found."))})),this.sorting.rules=e.filter((e=>e.sortDir&&void 0!==e.sortWeight)).sort(((e,t)=>e.sortWeight-t.sortWeight)).map((e=>[e.columnId,e.sortDir]))}isLastVisible(e){return this.visibleColumns.at(-1)===e}}class Es{constructor(e){this.isDirty=!1,this.filters={[o.STRING]:void 0,[o.NUMBER]:void 0,[o.DATE]:void 0,[o.ENUMERATION]:void 0,[o.ASSOCIATION]:void 0},this.initialFilters=e.datasource.filter,this.filterList=e.filterList,Vn(this,{filters:rt,isDirty:rt,filterConditions:at.struct,setFilterState:rn,setDirty:rn})}setFilterState(e,t){this.filters[e]=t}get filterConditions(){return Object.keys(this.filters).map((e=>{var t,n;return null===(n=null===(t=this.filters[e])||void 0===t?void 0:t.getFilterCondition)||void 0===n?void 0:n.call(t)})).filter((e=>void 0!==e))}getFilterContextProps(){return{multipleAttributes:this.filterList.reduce(((e,t)=>{let{filter:n}=t;return{...e,[n.id]:n}}),{}),multipleInitialFilters:this.filterList.reduce(((e,t)=>{let{filter:n}=t;return{...e,[n.id]:h(n,this.initialFilters)}}),{})}}setDirty(){this.isDirty=!0}}class Os{constructor(e){this._storageAttr=e.configurationAttribute,Vn(this,{_storageAttr:rt.ref,settings:at.struct,updateProps:rn})}updateProps(e){this._storageAttr=e.configurationAttribute}get settings(){if(this._storageAttr&&"available"===this._storageAttr.status&&this._storageAttr.value)return JSON.parse(this._storageAttr.value)}updateSettings(e){if(this._storageAttr&&!this._storageAttr.readOnly){const t=JSON.stringify(e);this._storageAttr.value!==t&&this._storageAttr.setValue(t)}}}class As{constructor(e){this.key=e}get settings(){const e=localStorage.getItem(this.key);return e?JSON.parse(e):void 0}updateSettings(e){const t=JSON.stringify(e);localStorage.getItem(this.key)!==t&&localStorage.setItem(this.key,t)}}class ks{constructor(e,t){var n,r;this.columnsStore=t,this.disposers=[],this.gridName=e.name,this.gridColumnsHash=(n=this.columnsStore._allColumns,r=this.gridName,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2166136261;const n=e.length;for(let r=0;r<n;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(JSON.stringify({name:r,columns:n.map((e=>({columnId:e.columnId,canSort:e.canSort,canHide:e.canHide,canResize:e.canResize,canDrag:e.canDrag})))})).toString()),Vn(this,{settings:at,applySettings:rn}),"localStorage"===e.configurationStorageType?this.storage=new As("".concat(this.gridName,"_").concat(this.gridColumnsHash)):this.storage=new Os(e),this.disposers.push(un((()=>this.storage.settings),(e=>{void 0!==e&&JSON.stringify(e)!==JSON.stringify(this.settings)&&this.applySettings(e)}),{fireImmediately:!0})),this.disposers.push(un((()=>this.settings),(e=>{this.storage.updateSettings(e)})))}dispose(){this.disposers.forEach((e=>e()))}updateProps(e){var t,n;null===(n=(t=this.storage).updateProps)||void 0===n||n.call(t,e)}applySettings(e){this.columnsStore.applySettings(function(e,t,n){n.name===e&&n.settingsHash===t||console.warn("Widget configuration for (".concat(e,")[hash:").concat(t,"] doesn't match provided settings (").concat(n.name,")[hash:").concat(n.settingsHash,"]. Restoring those settings might result in errors."));return n.columns.map((e=>{var t;const r=n.sortOrder.findIndex((t=>t[0]===e.columnId));return{columnId:e.columnId,size:e.size,hidden:e.hidden,orderWeight:n.columnOrder.indexOf(e.columnId),sortWeight:-1!==r?r+1:void 0,sortDir:-1!==r?null===(t=n.sortOrder[r])||void 0===t?void 0:t[1]:void 0,filterSettings:void 0}}))}(this.gridName,this.gridColumnsHash,e))}get settings(){return function(e,t,n){const r=n.filter((e=>e.sortDir&&void 0!==e.sortWeight)).sort(((e,t)=>e.sortWeight-t.sortWeight)).map((e=>[e.columnId,e.sortDir])),i=[...n].sort(((e,t)=>e.orderWeight-t.orderWeight)).map((e=>e.columnId));return{name:e,schemaVersion:1,settingsHash:t,columns:n.map((e=>({columnId:e.columnId,size:e.size,hidden:e.hidden,filterSettings:void 0}))),sortOrder:r,columnOrder:i}}(this.gridName,this.gridColumnsHash,this.columnsStore.settings)}}class Ps{constructor(){var e,t,n;this.exporting=!1,this.lengthComputable=!1,this.loaded=0,this.total=0,this.onloadstart=e=>{this.exporting=!0,this.lengthComputable=e.lengthComputable,this.total=e.total,this.loaded=0},this.onprogress=e=>{this.loaded=e.loaded},this.onloadend=()=>{this.exporting=!1,this.lengthComputable=!1,this.loaded=0,this.total=0},U(e=this)?bn(e,e,t,n):Nr((function(){var r=fr(e,n)[ve];if(!e[Hn]){var i=Object.getPrototypeOf(e),o=new Set([].concat(Y(e),Y(i)));o.delete("constructor"),o.delete(ve),G(i,Hn,o)}e[Hn].forEach((function(e){return r.make_(e,!t||!(e in t)||t[e])}))}))}}class Is{constructor(e){this.setInitParams(e),this.columnsStore=new xs(e),this.headerFiltersStore=new Es(e),this.settingsStore=new ks(e,this.columnsStore),this.progressStore=new Ps}dispose(){this.settingsStore.dispose()}setInitParams(e){"buttons"===e.pagination&&e.datasource.requestTotalCount(!0),e.datasource.setLimit(e.pageSize)}updateProps(e){this.progressStore.exporting||(this.columnsStore.updateProps(e),this.settingsStore.updateProps(e))}get isLoaded(){return this.columnsStore.loaded}get filterConditions(){if(this.headerFiltersStore.isDirty)return this.columnsStore.filterConditions.filter((e=>void 0!==e)).concat(this.headerFiltersStore.filterConditions)}get sortInstructions(){return this.columnsStore.sortInstructions}}class Ts{constructor(e){this._status="idle",this.offset=0,this.loaded=0,this.limit=100,this.totalCount=void 0,this.shouldSendHeaders=!1,this.send=()=>(this.emitLoadStart(),this._status="awaiting",this.offset=0,this.datasource.setLimit(this.limit),this.datasource.setOffset(this.offset),this.datasource.reload(),new Promise((e=>this.on("loadend",(()=>e()))))),this.abort=()=>{this._status="aborted",this.emitAbort(),this.emitLoadEnd(),this.dispose()},this.onsourcechange=e=>{const t=e.offset===this.offset&&e.limit===this.limit&&"available"===e.status;"awaiting"===this._status&&t&&(this.datasource=e,this.shouldSendHeaders&&(this.sendHeaders(),this.shouldSendHeaders=!1),this.read())},this.onpropertieschange=e=>{"reading"===this._status&&(this.columns=e,this.read())};const{ds:t,columns:n,withHeaders:r=!1,limit:i=0}=e;this.limit=Math.max(i,this.limit),this.emitter=cs(),this.datasource=t,this.totalCount=t.totalCount,this.columns=n,this.shouldSendHeaders=r}get status(){return this._status}on(e,t){return this.emitter.on(e,t)}emitLoadStart(){this.emitter.emit("loadstart",this.createProgressEvent("loadstart"))}emitHeaders(e){this.emitter.emit("headers",e)}emitData(e){this.emitter.emit("data",e)}emitProgress(){this.emitter.emit("progress",this.createProgressEvent("progress"))}emitAbort(){this.emitter.emit("abort",this.createProgressEvent("abort"))}emitEnd(){this.emitter.emit("end",this.createProgressEvent("end"))}emitLoadEnd(){this.emitter.emit("loadend",this.createProgressEvent("loadend"))}createProgressEvent(e){return new ProgressEvent(e,{lengthComputable:"number"==typeof this.totalCount,loaded:this.loaded,total:this.totalCount})}sendHeaders(){const e=this.columns.map((e=>{var t,n,r,i,o;return{name:e.header&&(o=e.header,o&&"available"===o.status&&o.value)&&null!==(n=null===(t=e.header.value)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",type:null!==(i=null===(r=e.attribute)||void 0===r?void 0:r.type.toString())&&void 0!==i?i:""}}));this.emitHeaders(e)}read(){this._status="reading";const{items:e=[]}=this.datasource,t=e.every((e=>this.columns.every((t=>{var n,r;let i;return i="attribute"===t.showContentAs?null===(n=t.attribute)||void 0===n?void 0:n.get(e).status:"dynamicText"===t.showContentAs?null===(r=t.dynamicText)||void 0===r?void 0:r.get(e).status:t.exportValue?t.exportValue.get(e).status:"available","loading"!==i}))));if(!t)return;const n=(r=e,i=this.columns,r.map(function(e){return t=>e.map((e=>Ns[e.showContentAs](t,e)))}(i)));var r,i;this.sendChunk(n),this.datasource.hasMoreItems?this.fetchNext():this.end()}sendChunk(e){this._status="sending",this.loaded+=e.length,this.emitData(e),this.emitProgress()}fetchNext(){this._status="awaiting",this.offset+=this.limit,this.datasource.setOffset(this.offset)}end(){this._status="end",this.emitEnd(),this.emitLoadEnd(),this.dispose()}dispose(){this.emitter.events={}}}const Ns={attribute(e,t){if(void 0===t.attribute)return"";const n=t.attribute.get(e);return"available"!==n.status?"":"boolean"==typeof n.value?n.value:n.value instanceof a.default?n.value.toNumber():n.displayValue},dynamicText(e,t){if(void 0===t.dynamicText)return"";const n=t.dynamicText.get(e);switch(n.status){case"available":return n.value;case"unavailable":return"n/a";default:return""}},customContent(e,t){var n,r;return null!==(r=null===(n=t.exportValue)||void 0===n?void 0:n.get(e).value)&&void 0!==r?r:""}};class Ds{constructor(e){this.datasource=null,this.columns=[],this.properties=[],this.locked=!1,this.oncolumnschange=e=>{!1===this.locked&&(this.columns=e)},this.onsourcechange=e=>{this.datasource=e},this.onpropertieschange=e=>{this.properties=e},this.abort=()=>this.emitter.emit("abort"),this.progressStore=e,this.emitter=cs(),this.emitter.on("columnschange",this.oncolumnschange),this.emitter.on("propertieschange",this.onpropertieschange),this.emitter.on("sourcechange",this.onsourcechange)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.emitter.emit(e,...n)}connectProgress(e){e.on("loadstart",this.progressStore.onloadstart),e.on("progress",this.progressStore.onprogress);const t=this.emitter.on("exportend",(()=>{this.progressStore.onloadend(),t()}))}async exportData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===this.datasource)return void console.error("Export controller: datasource is missing.");0!==this.properties.length&&0!==this.columns.length||console.error("Export controller: no columns to export.");const n=this.createFilter(this.columns.slice()),r={offset:this.datasource.offset,limit:this.datasource.limit};this.locked=!0;let i=new Ts({ds:this.datasource,columns:n(this.properties),...t});this.connectProgress(i);const o=[this.emitter.on("sourcechange",i.onsourcechange),this.emitter.on("propertieschange",(e=>null==i?void 0:i.onpropertieschange(n(e)))),this.emitter.on("abort",i.abort)];e(i),await i.send(),o.forEach((e=>e())),i=null,this.datasource.setLimit(r.limit),this.datasource.setOffset(r.offset),this.datasource.reload();const s=this.emitter.on("sourcechange",(e=>{e.limit===r.limit&&e.offset===r.offset&&(this.emitter.emit("exportend"),this.locked=!1,s())}))}createFilter(e){const t=e=>"customContent"!==e.showContentAs||void 0!==e.exportValue;return n=>e.map((e=>n[e])).filter(t)}}const Ms="com.mendix.widgets.web.datagrid.export";function Rs(){var e;return null!==(e=window[Ms])&&void 0!==e?e:window[Ms]=new Map}function js(t,n,r){const[i]=e.useState((()=>function(e,t){const n=Rs();if(n.has(e))return null;const r={key:e,controller:new Ds(t)};return n.set(r.key,r.controller),r}(t.name,r))),o=e.useCallback((()=>null==i?void 0:i.controller.abort()),[i]);return e.useEffect((()=>()=>{null==i||i.controller.abort(),function(e){e&&Rs().delete(e.key)}(i)}),[i]),e.useEffect((()=>{null==i||i.controller.emit("sourcechange",t.datasource)}),[t.datasource,i]),e.useEffect((()=>{null==i||i.controller.emit("propertieschange",t.columns)}),[t.columns,i]),e.useEffect((()=>{null==i||i.controller.emit("columnschange",n.visibleColumns.map((e=>e.columnIndex)))}),[n.visibleColumns,i]),[r,o]}const Ls=$r((t=>{var n,r,i,o,s,a,l;const u="virtualScrolling"===t.pagination||"loadMore"===t.pagination,d=u?t.datasource.limit/t.pageSize:t.datasource.offset/t.pageSize,{FilterContext:h}=c(),{columnsStore:f,rootStore:v}=t,g=null!==(n=t.datasource.items)&&void 0!==n?n:[],[p,m]=js(t,t.columnsStore,t.progressStore);e.useEffect((()=>{t.refreshInterval>0&&setTimeout((()=>{t.datasource.reload()}),1e3*t.refreshInterval)}),[t.datasource,t.refreshInterval]);const _=e.useCallback((e=>{const n=e(d);u?t.datasource.setLimit(n*t.pageSize):t.datasource.setOffset(n*t.pageSize)}),[t.datasource,t.pageSize,u,d]),y=b(t.itemSelection,t.datasource,t.onSelectionChange),w=function(t,n){return e.useMemo((()=>{var e;return new Do(t.itemSelection,n,t.itemSelectionMethod,t.showSelectAllToggle,null!==(e=t.pageSize)&&void 0!==e?e:5,t.itemSelectionMode)}),[n])}(t,y),S=function(t){const n=e.useMemo((()=>new Mo(t.onClickTrigger,t.onClick)),[]);return e.useEffect((()=>{n.update(t.onClick)})),n}({onClickTrigger:t.onClickTrigger,onClick:t.onClick}),C=e.useMemo((()=>"datagrid/".concat(O())),[]);var x,E;x=t.name,E=C,vs(e.useRef({inputChannel:x,event:ls.reset.filters,onEvent:(e,t)=>{e(E,ls.reset.value,...t)}}).current);const A=w.showCheckboxColumn?f.visibleColumns.length+1:f.visibleColumns.length,k=function(t){let{rows:n,columns:r,pageSize:i}=t;const o=e.useRef(null);return e.useMemo((()=>{const e=new is(n,r,i);return null===o.current?o.current=new rs(new as,e):o.current.updateGridLayout(e),o.current}),[n,r,i])}({rows:g.length,columns:A,pageSize:t.pageSize}),P=function(t,n,r){return e.useMemo((()=>new Qo((e=>({item:e,pageSize:t.pageSize,selectionType:t.selectionType,selectionMethod:t.selectionMethod,selectionMode:t.selectionMode,clickTrigger:n.clickTrigger})),t.onSelect,t.onSelectAll,t.onSelectAdjacent,n.onExecuteAction,r.dispatch)),[t,n,r])}(w,S,k),I=function(t,n){return e.useMemo((()=>new ns((e=>({item:e,pageSize:t.pageSize,selectionType:t.selectionType,selectionMethod:t.selectionMethod,selectionMode:t.selectionMode})),t.onSelect,t.onSelectAll,t.onSelectAdjacent,n.dispatch)),[t,n])}(w,k),T=function(t){const n=e.useCallback((()=>{"Multi"===(null==t?void 0:t.type)&&("all"===t.selectionStatus?t.selectNone():t.selectAll())}),[t]),r="Multi"===(null==t?void 0:t.type)?t.selectionStatus:void 0;return e.useMemo((()=>{if(void 0!==r)return{status:r,toggle:n}}),[r,n])}(y);return e.createElement(ko,{className:t.class,CellComponent:ui,columnsDraggable:t.columnsDraggable,columnsFilterable:t.columnsFilterable,columnsHidable:t.columnsHidable,columnsResizable:t.columnsResizable,columnsSortable:t.columnsSortable,data:g,emptyPlaceholderRenderer:e.useCallback((n=>"custom"===t.showEmptyPlaceholder?n(t.emptyPlaceholder):e.createElement("div",null)),[t.emptyPlaceholder,t.showEmptyPlaceholder]),filterRenderer:e.useCallback(((t,n)=>{const r=f.columnFilters[n];return r.needsFilterContext?t(e.createElement(h.Provider,{value:{eventsChannelName:C,filterDispatcher:e=>(v.headerFiltersStore.setDirty(),r.setFilterState(e),e),...r.getFilterContextProps()}},r.renderFilterWidgets())):t(r.renderFilterWidgets())}),[h,f.columnFilters,v.headerFiltersStore,C]),headerTitle:null===(r=t.filterSectionTitle)||void 0===r?void 0:r.value,headerContent:t.filtersPlaceholder&&e.createElement(To,{selectionContextValue:T,eventsChannelName:C,headerFilterStore:v.headerFiltersStore},t.filtersPlaceholder),hasMoreItems:null!==(i=t.datasource.hasMoreItems)&&void 0!==i&&i,headerWrapperRenderer:e.useCallback(((e,t)=>t),[]),id:e.useMemo((()=>"DataGrid".concat(O())),[]),numberOfItems:t.datasource.totalCount,onExportCancel:m,page:d,pageSize:t.pageSize,paginationType:t.pagination,loadMoreButtonCaption:null===(o=t.loadMoreButtonCaption)||void 0===o?void 0:o.value,paging:No({pagination:t.pagination,showPagingButtons:t.showPagingButtons,totalCount:t.datasource.totalCount,limit:t.datasource.limit}),pagingPosition:t.pagingPosition,showPagingButtons:t.showPagingButtons,rowClass:e.useCallback((e=>{var n,r,i;return null!==(i=null===(r=null===(n=t.rowClass)||void 0===n?void 0:n.get(e))||void 0===r?void 0:r.value)&&void 0!==i?i:""}),[t.rowClass]),rowClickable:!(!t.itemSelection&&!t.onClick),setPage:_,styles:t.style,selectionStatus:"Multi"===(null==y?void 0:y.type)?y.selectionStatus:"unknown",exporting:p.exporting,processedRows:p.loaded,exportDialogLabel:null===(s=t.exportDialogLabel)||void 0===s?void 0:s.value,cancelExportLabel:null===(a=t.cancelExportLabel)||void 0===a?void 0:a.value,selectRowLabel:null===(l=t.selectRowLabel)||void 0===l?void 0:l.value,visibleColumns:f.visibleColumns,availableColumns:f.availableColumns,columnsCreateSizeSnapshot:()=>f.createSizeSnapshot(),columnsSwap:(e,t)=>{let[n,r]=t;return f.swapColumns(e,[n,r])},selectActionHelper:w,cellEventsController:P,checkboxEventsController:I,focusController:k})})),Vs=$r((t=>t.rootStore.isLoaded?e.createElement(Ls,{...t}):null));return function(t){const r=function(t){const[r]=e.useState((()=>new Is(t))),i=e.useRef(t.datasource);return i.current=t.datasource,e.useEffect((()=>{const e=[];return e.push(an((()=>{i.current.setSortOrder(r.sortInstructions)}))),e.push(an((()=>{const e=r.filterConditions;e&&(e.length>0?i.current.setFilter(e.length>1?n.and(...e):e[0]):i.current.setFilter(void 0))}))),()=>{e.forEach((e=>e())),r.dispose()}}),[r]),e.useEffect((()=>{r.updateProps(t)})),r}(t);return e.createElement(Vs,{...t,rootStore:r,columnsStore:r.columnsStore,progressStore:r.progressStore})}}));
