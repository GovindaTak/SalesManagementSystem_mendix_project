import{useMemo as e,createElement as t,useRef as n,useState as o,Fragment as i,useCallback as r,useEffect as s,useLayoutEffect as a,useReducer as l,Children as u,forwardRef as c}from"react";import d,{Big as p}from"big.js";import{attribute as h,literal as v,contains as g,startsWith as m}from"mendix/filters/builders";const f=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};class y{constructor(){this.limit=0}updateProps(e){this.limit=e.limit,this.ds=e}setLimit(e){var t,n;e!==(null===(t=this.ds)||void 0===t?void 0:t.limit)&&(null===(n=this.ds)||void 0===n||n.setLimit(e))}getLimit(e,t,n,o){return"available"!==n||!0===t?0:o?e<this.limit?this.limit:(e>this.limit&&(this.limit=e),e):void 0}}var b={exports:{}},I={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ả":"A","Ạ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ể":"E","Ễ":"E","Ệ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ỉ":"I","Ị":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ỏ":"O","Ọ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ớ":"O","Ợ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ủ":"U","Ụ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ả":"a","ạ":"a","ẩ":"a","ẫ":"a","ậ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ẻ":"e","ẽ":"e","ẹ":"e","ể":"e","ễ":"e","ệ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ỉ":"i","ị":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ỏ":"o","ọ":"o","ổ":"o","ỗ":"o","ộ":"o","ờ":"o","ở":"o","ỡ":"o","ớ":"o","ợ":"o","ù":"u","ú":"u","û":"u","ü":"u","ủ":"u","ụ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z","й":"и","Й":"И","ё":"е","Ё":"Е"},x=Object.keys(I).join("|"),C=new RegExp(x,"g"),w=new RegExp(x,"");function T(e){return I[e]}var O=function(e){return e.replace(C,T)};b.exports=O,b.exports.has=function(e){return!!e.match(w)},b.exports.remove=O;
/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2020 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */
const S={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},E=(e,t)=>String(e.rankedValue).localeCompare(String(t.rankedValue));function M(e,t,n){void 0===n&&(n={});const{keys:o,threshold:i=S.MATCHES,baseSort:r=E,sorter:s=(e=>e.sort(((e,t)=>A(e,t,r))))}=n,a=e.reduce((function(e,r,s){const a=function(e,t,n,o){if(!t){return{rankedValue:e,rank:k(e,n,o),keyIndex:-1,keyThreshold:o.threshold}}const i=function(e,t){const n=[];for(let o=0,i=t.length;o<i;o++){const i=t[o],r=D(i),s=P(e,i);for(let e=0,t=s.length;e<t;e++)n.push({itemValue:s[e],attributes:r})}return n}(e,t);return i.reduce(((e,t,i)=>{let{rank:r,rankedValue:s,keyIndex:a,keyThreshold:l}=e,{itemValue:u,attributes:c}=t,d=k(u,n,o),p=s;const{minRanking:h,maxRanking:v,threshold:g}=c;return d<h&&d>=S.MATCHES?d=h:d>v&&(d=v),d>r&&(r=d,a=i,l=g,p=u),{rankedValue:p,rank:r,keyIndex:a,keyThreshold:l}}),{rankedValue:e,rank:S.NO_MATCH,keyIndex:-1,keyThreshold:o.threshold})}(r,o,t,n),{rank:l,keyThreshold:u=i}=a;l>=u&&e.push({...a,item:r,index:s});return e}),[]);return s(a).map((e=>{let{item:t}=e;return t}))}function k(e,t,n){return e=L(e,n),(t=L(t,n)).length>e.length?S.NO_MATCH:e===t?S.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?S.EQUAL:e.startsWith(t)?S.STARTS_WITH:e.includes(" ".concat(t))?S.WORD_STARTS_WITH:e.includes(t)?S.CONTAINS:1===t.length?S.NO_MATCH:function(e){let t="";return e.split(" ").forEach((e=>{e.split("-").forEach((e=>{t+=e.substr(0,1)}))})),t}(e).includes(t)?S.ACRONYM:function(e,t){let n=0,o=0;function i(e,t,o){for(let i=o,r=t.length;i<r;i++){if(t[i]===e)return n+=1,i+1}return-1}function r(e){const o=1/e,i=n/t.length;return S.MATCHES+i*o}const s=i(t[0],e,0);if(s<0)return S.NO_MATCH;o=s;for(let n=1,r=t.length;n<r;n++){o=i(t[n],e,o);if(!(o>-1))return S.NO_MATCH}return r(o-s)}(e,t)}function A(e,t,n){const{rank:o,keyIndex:i}=e,{rank:r,keyIndex:s}=t;return o===r?i===s?n(e,t):i<s?-1:1:o>r?-1:1}function L(e,t){let{keepDiacritics:n}=t;return e="".concat(e),n||(e=b.exports(e)),e}function P(e,t){let n;if("object"==typeof t&&(t=t.key),"function"==typeof t)n=t(e);else if(null==e)n=null;else if(Object.hasOwnProperty.call(e,t))n=e[t];else{if(t.includes("."))return function(e,t){const n=e.split(".");let o=[t];for(let e=0,t=n.length;e<t;e++){const t=n[e];let i=[];for(let e=0,n=o.length;e<n;e++){const n=o[e];if(null!=n)if(Object.hasOwnProperty.call(n,t)){const e=n[t];null!=e&&i.push(e)}else"*"===t&&(i=i.concat(n))}o=i}if(Array.isArray(o[0])){return[].concat(...o)}return o}(t,e);n=null}return null==n?[]:Array.isArray(n)?n:[String(n)]}M.rankings=S;const V={maxRanking:1/0,minRanking:-1/0};function D(e){return"string"==typeof e?V:{...V,...e}}const N=100;function _(e){const{htmlFor:n,children:o,onClick:i}=e;return t(null==n?"span":"label",{children:o,className:"widget-combobox-caption-text",htmlFor:n,onClick:i||(n?e=>{e.preventDefault()}:void 0)})}function R(e){switch(e){case"contains":return{};case"containsExact":return{threshold:M.rankings.CONTAINS};case"startsWith":return{threshold:M.rankings.WORD_STARTS_WITH};case"none":return{threshold:M.rankings.NO_MATCH}}}function F(e,t){return void 0===e||void 0===t?e===t:e instanceof p&&t instanceof p?e.eq(t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t}class B{constructor(e){this.options=[],this.filterType="contains",this.searchTerm="",this.lazyLoading=!1,this.caption=e}get hasMore(){return!1}get isLoading(){return!1}get status(){return"available"}getAll(){return this.getAllWithMatchSorter()}getAllWithMatchSorter(){const e={keys:[e=>this.caption.get(e)],...R(this.filterType)};return""===this.searchTerm&&(e.sorter=e=>e),M(this.options,this.searchTerm||"",e)}setSearchTerm(e){var t;this.searchTerm=e,null===(t=this.trigger)||void 0===t||t.call(this)}onAfterSearchTermChange(e){this.trigger=e}loadMore(){}_updateProps(e){throw new Error("_updateProps not implemented")}_optionToValue(e){throw new Error("_optionToValue not implemented")}_valueToOption(e){throw new Error("_valueToOption not implemented")}}class H extends B{constructor(e,t){super(e),this.valuesMap=t,this.loading=!1}get sortOrder(){var e;let t="asc";return this.ds&&(t=(null!==(e=this.ds.sortOrder[0])&&void 0!==e?e:[])[1]),t}get status(){var e,t;return null!==(t=null===(e=this.ds)||void 0===e?void 0:e.status)&&void 0!==t?t:"unavailable"}get hasMore(){var e,t;return null!==(t=null===(e=this.ds)||void 0===e?void 0:e.hasMoreItems)&&void 0!==t&&t}get isLoading(){return this.loading}getAll(){var e,t;if(this.lazyLoading&&this.attributeId){if(""===this.searchTerm)null===(e=this.ds)||void 0===e||e.setFilter(void 0);else{const e=function(e,t,n){if("none"===e||!t)return;const o={contains:g,startsWith:m};return"containsExact"===e?o.contains(h(n),v(t)):o[e](h(n),v(t))}(this.filterType,this.searchTerm,this.attributeId);null===(t=this.ds)||void 0===t||t.setFilter(e)}return this.options}return this.getAllWithMatchSorter()}loadMore(){this.ds&&this.hasMore&&(this.ds.setLimit(this.ds.limit+N),this.lazyLoading&&(this.loading=!0))}_optionToValue(e){if(null!==e)return this.valuesMap.get(e)}_valueToOption(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null}_updateProps(e){var t;this.attributeId=e.attributeId,this.ds=e.ds,this.filterType=e.filterType,this.lazyLoading=e.lazyLoading,this.lazyLoading&&("loading"===e.ds.status?this.loading=!0:this.loading=!1);const n=null!==(t=this.ds.items)&&void 0!==t?t:[];this.valuesMap.clear(),n.forEach((e=>this.valuesMap.set(e.id,e))),this.options=Array.from(this.valuesMap.keys())}}class z extends H{_updateProps(e){if(super._updateProps(e),e.attr.value){(Array.isArray(e.attr.value)?e.attr.value:[e.attr.value]).forEach((e=>{this.valuesMap.has(e.id)||this.valuesMap.set(e.id,e)}))}}}class K{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption=""}updateProps(e){e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.formatter=e.formattingAttributeOrExpression,this.customContent=e.customContent,this.customContentType=e.customContentType}get(e){var t;if(null===e)return this.emptyCaption;if(!this.formatter)throw new Error("AssociationSimpleCaptionRenderer: no formatter available.");const n=this.optionsMap.get(e);if(!n)return this.unavailableCaption;const o=this.formatter.get(n);return o&&"unavailable"!==o.status?null!==(t=o.value)&&void 0!==t?t:"":this.unavailableCaption}getCustomContent(e){var t;if(null===e)return null;const n=this.optionsMap.get(e);return n?null===(t=this.customContent)||void 0===t?void 0:t.get(n):null}render(e,n,o){const{customContentType:i}=this;return"no"===i||"label"===n&&"listItem"===i||null===e?t(_,{htmlFor:o},this.get(e)):t("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class j{constructor(){this.status="unavailable",this.clearable=!1,this.currentId=null,this.readOnly=!1,this.lazyLoading=!1,this.customContentType="no",this.validation=void 0,this._valuesMap=new Map,this.lazyLoader=new y,this.caption=new K(this._valuesMap),this.options=new z(this.caption,this._valuesMap)}updateProps(e){const[t,n,o,i,r,s,a,l,u,c,d,p]=function(e){var t;const n=e.attributeAssociation,o=e.filterType,i=e.onChangeEvent;if(!n)throw new Error("'optionsSourceType' type is 'association' but 'attributeAssociation' is not defined.");const r=e.optionsSourceAssociationDataSource;if(!r)throw new Error("'optionsSourceType' type is 'association' but 'optionsSourceAssociationDataSource' is not defined.");const s=e.optionsSourceAssociationCaptionType,a=e.optionsSourceAssociationCaptionAttribute,l=e.optionsSourceAssociationCaptionExpression;if("attribute"===s&&!a)throw new Error("'optionsSourceAssociationCaptionType' type is 'attribute' but 'optionsSourceAssociationCaptionAttribute' is not defined.");if("expression"===s&&!l)throw new Error("'optionsSourceAssociationCaptionType' type is 'expression' but 'optionsSourceAssociationCaptionExpression' is not defined.");return[n,r,"attribute"===s?a:l,s,e.emptyOptionText,e.clearable,o,i,e.optionsSourceAssociationCustomContent,e.optionsSourceAssociationCustomContentType,null!==(t=e.lazyLoading&&"expression"!==e.optionsSourceAssociationCaptionType)&&void 0!==t&&t,e.loadingType]}(e);if(this.lazyLoader.updateProps(n),this.lazyLoader.setLimit(this.lazyLoader.getLimit(n.limit,t.readOnly,t.status,d)),this._attr=t,this.caption.updateProps({emptyOptionText:r,formattingAttributeOrExpression:o,customContent:u,customContentType:c}),this.options._updateProps({attr:t,ds:n,filterType:a,lazyLoading:d,attributeId:"attribute"===i?o.id:void 0}),!(t&&"unavailable"!==t.status&&n&&"unavailable"!==n.status&&o&&r&&"unavailable"!==r.status))return this.status="unavailable",this.currentId=null,void(this.clearable=!1);this.clearable=s,this.status=t.status,this.readOnly=t.readOnly,this.onChangeEvent=l,this.customContentType=c,this.validation=t.validation,this.lazyLoading=d,this.loadingType=p}setValue(e){f(this.onChangeEvent)}}class U extends j{constructor(){super(...arguments),this.type="multi",this.selectedItemsStyle="text",this.selectionMethod="checkbox",this.selectAllButton=!1}updateProps(e){var t,n,o;super.updateProps(e),this.selectedItemsStyle=e.selectedItemsStyle,this.selectionMethod=e.selectionMethod,this.selectAllButton=e.selectAllButton,this.currentId=null!==(o=null===(n=null===(t=this._attr)||void 0===t?void 0:t.value)||void 0===n?void 0:n.map((e=>e.id)))&&void 0!==o?o:null,"rowclick"!==this.selectionMethod&&"yes"!==this.customContentType||(this.selectedItemsStyle="boxes")}setValue(e){var t;const n=null==e?void 0:e.map((e=>this.options._optionToValue(e)));null===(t=this._attr)||void 0===t||t.setValue(n),super.setValue(e)}getOptions(){return"rowclick"===this.selectionMethod?this.options.getAll().filter((e=>{var t;return!(null===(t=this.currentId)||void 0===t?void 0:t.includes(e))})):this.options.getAll()}isOptionsSelected(){const e=this.options.getAll(),t=e.filter((e=>{var t;return!(null===(t=this.currentId)||void 0===t?void 0:t.includes(e))}));return this.currentId&&this.currentId.length>0?0===t.length?"all":"some":0===e.length?"some":"none"}}class W extends j{constructor(){super(...arguments),this.type="single"}updateProps(e){var t,n,o;super.updateProps(e),this.currentId=null!==(o=null===(n=null===(t=this._attr)||void 0===t?void 0:t.value)||void 0===n?void 0:n.id)&&void 0!==o?o:null}setValue(e){var t;null===(t=this._attr)||void 0===t||t.setValue(this.options._optionToValue(e)),super.setValue(e)}}class ${constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption="",this.overrideCaption=void 0}updateProps(e){e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.formatter=e.formattingAttributeOrExpression,this.customContent=e.customContent,this.customContentType=e.customContentType,this.attribute=e.attribute,this.overrideCaption=e.caption}get(e){var t,n;if(null===e)return this.overrideCaption?this.overrideCaption:this.emptyCaption;if(!this.formatter&&this.attribute){const t=this.optionsMap.get(e);if(t)return this.attribute.get(t).displayValue}const o=this.optionsMap.get(e);if(!o)return this.unavailableCaption;const i=null===(t=this.formatter)||void 0===t?void 0:t.get(o);return"unavailable"===(null==i?void 0:i.status)?this.unavailableCaption:null!==(n=null==i?void 0:i.value)&&void 0!==n?n:""}getCustomContent(e){var t;if(null===e)return null;const n=this.optionsMap.get(e);return n?null===(t=this.customContent)||void 0===t?void 0:t.get(n):null}render(e,n,o){const{customContentType:i}=this;return"no"===i||"label"===n&&"listItem"===i||null===e?t(_,{htmlFor:o},this.get(e)):t("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class q extends H{}function Y(e){var t;const n=e.databaseAttributeString,o=e.filterType,i=e.onChangeEvent,r=e.optionsSourceDatabaseDataSource;if(!r)throw new Error("'optionsSourceType' type is 'database' but 'optionsSourceDatabaseDataSource' is not defined.");const s=e.optionsSourceDatabaseCaptionType,a=e.optionsSourceDatabaseCaptionAttribute,l=e.optionsSourceDatabaseCaptionExpression,u=e.emptyOptionText,c=e.optionsSourceDatabaseDefaultValue,p=e.clearable,h=e.optionsSourceAssociationCustomContent,v=e.optionsSourceAssociationCustomContentType,g=e.optionsSourceDatabaseValueAttribute,m=null!==(t=e.lazyLoading&&"expression"!==e.optionsSourceDatabaseCaptionType)&&void 0!==t&&t,f=e.loadingType;if(n){if(n.value instanceof d&&"Integer"!==(null==g?void 0:g.type)&&"Enum"!==(null==g?void 0:g.type))throw new Error("Atrribute is type of Integer while Value has type ".concat(null==g?void 0:g.type));if("string"==typeof n.value&&"String"!==(null==g?void 0:g.type)&&"Enum"!==(null==g?void 0:g.type))throw new Error("Atrribute is type of String while Value has type ".concat(null==g?void 0:g.type))}if(!g)throw new Error("'valueExpression' is not defined");return{attr:n,captionProvider:"attribute"===s?a:l,captionType:s,clearable:p,customContent:h,customContentType:v,ds:r,emptyOption:u,emptyValue:c,filterType:o,lazyLoading:m,loadingType:f,onChangeEvent:i,valueAttribute:g}}class X{constructor(){this.clearable=!1,this.currentId=null,this.customContentType="no",this.lazyLoading=!1,this.readOnly=!1,this.selectAllButton=!1,this.selectedItemsStyle="text",this.selectionMethod="checkbox",this.status="unavailable",this.type="multi",this.lazyLoader=new y,this._objectsMap=new Map,this.caption=new $(this._objectsMap),this.options=new q(this.caption,this._objectsMap)}getOptions(){return"rowclick"===this.selectionMethod?this.options.getAll().filter((e=>{var t;return!(null===(t=this.currentId)||void 0===t?void 0:t.includes(e))})):this.options.getAll()}isOptionsSelected(){const e=this.options.getAll(),t=e.filter((e=>{var t;return!(null===(t=this.currentId)||void 0===t?void 0:t.includes(e))}));return this.currentId&&this.currentId.length>0?0===t.length?"all":"some":0===e.length?"some":"none"}updateProps(e){var t,n;const{captionProvider:o,captionType:i,clearable:r,customContent:s,customContentType:a,ds:l,emptyOption:u,filterType:c,lazyLoading:d,loadingType:p,onChangeEvent:h,valueAttribute:v}=Y(e);if(!(l&&"unavailable"!==l.status&&o&&u&&"unavailable"!==u.status))return this.status="unavailable",this.currentId=null,void(this.clearable=!1);this.status="available",this.lazyLoader.updateProps(l),this.lazyLoader.setLimit(this.lazyLoader.getLimit(l.limit,!1,l.status,d)),this.caption.updateProps({emptyOptionText:u,formattingAttributeOrExpression:o,customContent:s,customContentType:a,attribute:v,caption:void 0}),this.options._updateProps({ds:l,filterType:c,lazyLoading:d,attributeId:"attribute"===i?o.id:void 0}),"rowclick"!==this.selectionMethod&&"yes"!==this.customContentType||(this.selectedItemsStyle="boxes"),this.clearable=r,this.customContentType=a,this.lazyLoading=d,this.loadingType=p,this.onChangeEvent=h,this.selectAllButton=e.selectAllButton,this.selectedItemsStyle=e.selectedItemsStyle,this.selection=e.optionsSourceDatabaseItemSelection,this.selectionMethod=e.selectionMethod,this.currentId=null!==(n=null===(t=this.selection)||void 0===t?void 0:t.selection.map((e=>e.id)))&&void 0!==n?n:null}setValue(e){var t;const n=null==e?void 0:e.map((e=>this.options._optionToValue(e)));n&&(null===(t=this.selection)||void 0===t||t.setSelection(n)),f(this.onChangeEvent)}}class Q{constructor(){this.clearable=!1,this.currentId=null,this.customContentType="no",this.lastSetValue=null,this.lazyLoading=!1,this.readOnly=!1,this.status="unavailable",this.type="single",this._objectsMap=new Map,this.lazyLoader=new y,this.caption=new $(this._objectsMap),this.options=new q(this.caption,this._objectsMap)}updateProps(e){const{captionProvider:t,captionType:n,clearable:o,customContentType:i,ds:r,filterType:s,lazyLoading:a,loadingType:l,onChangeEvent:u}=Y(e);this.lazyLoader.updateProps(r),this.options._updateProps({ds:r,filterType:s,lazyLoading:a,attributeId:"attribute"===n?t.id:void 0}),this.clearable=o,this.onChangeEvent=u,this.customContentType=i,this.lazyLoading=a,this.loadingType=l}setValue(e){this.currentId=e,f(this.onChangeEvent)}}class Z{constructor(e){this.optionsMap=e}updateProps(e){this.emptyValue=e.emptyValue,this.attribute=e.valueAttribute}get(e){var t,n,o;if(null===e)return null===(t=this.emptyValue)||void 0===t?void 0:t.value;if(!this.attribute)throw new Error("DatabaseValuesProvider: no formatter available.");const i=this.optionsMap.get(e);if(!i)return null===(n=this.emptyValue)||void 0===n?void 0:n.value;const r=this.attribute.get(i);return"unavailable"===r.status?null===(o=this.emptyValue)||void 0===o?void 0:o.value:r.value}getEmptyValue(){var e;return null===(e=this.emptyValue)||void 0===e?void 0:e.value}}class G extends Q{constructor(){super(),this.validation=void 0,this.values=new Z(this._objectsMap)}updateProps(e){var t,n,o,i;super.updateProps(e);const{attr:r,captionProvider:s,customContent:a,customContentType:l,ds:u,emptyOption:c,emptyValue:d,lazyLoading:p,valueAttribute:h}=Y(e);if(this.lazyLoader.setLimit(this.lazyLoader.getLimit(u.limit,null!==(t=null==r?void 0:r.readOnly)&&void 0!==t&&t,null!==(n=null==r?void 0:r.status)&&void 0!==n?n:u.status,p)),this._attr=r,this.caption.updateProps({emptyOptionText:c,formattingAttributeOrExpression:s,customContent:a,customContentType:l,attribute:h,caption:null==r?void 0:r.displayValue}),this.values.updateProps({valueAttribute:h,emptyValue:d}),!u||"unavailable"===u.status||!c||"unavailable"===c.status)return this.status="unavailable",this.currentId=null,void(this.clearable=!1);if("available"===(null==r?void 0:r.status)&&!(null!==this.lastSetValue&&F(this.lastSetValue,r.value)||"available"!==u.status||(this.lastSetValue=this._attr.value,F(this.values.getEmptyValue(),r.value)))){const e=this.options.getAll().find((e=>F(r.value,this.values.get(e))));this.currentId=e||null}if(this.readOnly=null!==(o=null==r?void 0:r.readOnly)&&void 0!==o&&o,this.status=null!==(i=null==r?void 0:r.status)&&void 0!==i?i:u.status,this.validation=null==r?void 0:r.validation,this.selection=e.optionsSourceDatabaseItemSelection,void 0===this.selection.selection){const e=this.options.getAll().find((e=>F(null==r?void 0:r.value,this.values.get(e))));e&&this.selection.setSelection(this.options._optionToValue(e))}}setValue(e){var t,n,o,i,r;const s=this.values.get(e);this.lastSetValue=s,null===(t=this._attr)||void 0===t||t.setValue(s),e!==(null!==(i=null===(o=null===(n=this.selection)||void 0===n?void 0:n.selection)||void 0===o?void 0:o.id)&&void 0!==i?i:"")&&(null===(r=this.selection)||void 0===r||r.setSelection(this.options._optionToValue(e))),super.setValue(e)}}class J{constructor(){this.emptyCaption=""}updateProps(e){this.attr=e.attribute,e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption=""}get(e){var t,n;return null===e?this.emptyCaption:null!==(n=null===(t=this.attr)||void 0===t?void 0:t.formatter.format(e))&&void 0!==n?n:""}render(e){return t("span",{className:"widget-combobox-caption-text"},this.get(e))}}class ee extends B{constructor(){super(...arguments),this.isBoolean=!1}_updateProps(e){var t,n;"unavailable"===e.attribute.status&&(this.options=[]),this.filterType=e.filterType,this.options=(null!==(t=e.attribute.universe)&&void 0!==t?t:[]).map((e=>e.toString())),this.isBoolean="boolean"==typeof(null===(n=e.attribute.universe)||void 0===n?void 0:n[0])}_optionToValue(e){return this.isBoolean?"true"===e:null!=e?e:void 0}_valueToOption(e){var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:null}}class te{constructor(){this.status="unavailable",this.type="single",this.validation=void 0,this.isBoolean=!1,this.currentId=null,this.customContentType="no",this.clearable=!0,this.readOnly=!1,this.caption=new J,this.options=new ee(this.caption)}updateProps(e){var t,n,o;const[i,r,s,a]=function(e){var t;const n=null!==(t=e.attributeEnumeration)&&void 0!==t?t:e.attributeBoolean,o=e.emptyOptionText,i=e.clearable,r=e.filterType;if(!n)throw new Error("'optionsSourceType' type is 'enumeration' or 'boolean' but 'attributeEnumeration' or 'attributeBoolean' is not defined.");return[n,o,i,r]}(e);if(this._attr=i,this.caption.updateProps({attribute:i,emptyOptionText:r}),this.options._updateProps({attribute:i,filterType:a}),!i||"unavailable"===i.status||!r||"unavailable"===r.status)return this.status="unavailable",this.currentId=null,void(this.clearable=!0);this.onChangeEvent=e.onChangeEvent,this.status=i.status,this.isBoolean="boolean"==typeof(null===(t=i.universe)||void 0===t?void 0:t[0]),this.clearable=!this.isBoolean&&s,this.currentId=null!==(o=null===(n=i.value)||void 0===n?void 0:n.toString())&&void 0!==o?o:null,this.readOnly=i.readOnly,this.validation=i.validation}setValue(e){var t;null===(t=this._attr)||void 0===t||t.setValue(this.options._optionToValue(e)),f(this.onChangeEvent)}}class ne extends B{constructor(e,t){super(e),this.valuesMap=t,this.options=[],this.searchTerm="",this.filterType="contains"}get status(){return this.ds?"available":"unavailable"}getAll(){switch(this.filterType){case"contains":return M(this.options,this.searchTerm||"",{keys:[e=>{var t;return null===(t=this.valuesMap.get(e))||void 0===t?void 0:t.staticDataSourceCaption.value}],sorter:e=>e});case"containsExact":return M(this.options,this.searchTerm||"",{threshold:M.rankings.CONTAINS,keys:[e=>{var t;return null===(t=this.valuesMap.get(e))||void 0===t?void 0:t.staticDataSourceCaption.value}],sorter:e=>e});case"startsWith":return M(this.options,this.searchTerm||"",{threshold:M.rankings.WORD_STARTS_WITH,keys:[e=>{var t;return null===(t=this.valuesMap.get(e))||void 0===t?void 0:t.staticDataSourceCaption.value}],sorter:e=>e});case"none":return M(this.options,this.searchTerm||"",{threshold:M.rankings.NO_MATCH,keys:[e=>{var t;return null===(t=this.valuesMap.get(e))||void 0===t?void 0:t.staticDataSourceCaption.value}],sorter:e=>e})}}_optionToValue(e){var t;if(null!==e)return null===(t=this.valuesMap.get(e.toString()))||void 0===t?void 0:t.staticDataSourceValue.value}_valueToOption(e){var t;const n=this.options.findIndex((t=>{var n;return(null===(n=this.valuesMap.get(t))||void 0===n?void 0:n.staticDataSourceValue)===e}));return null!==(t=n.toString())&&void 0!==t?t:null}_updateProps(e){this.ds=e.ds,this.filterType=e.filterType,this.valuesMap.clear(),this.ds.forEach(((e,t)=>this.valuesMap.set(t.toString(),e))),this.options=this.ds.map(((e,t)=>t.toString()))}}class oe{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption="",this.overrideCaption=void 0}updateProps(e){e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.customContent=e.customContent,this.customContentType=e.customContentType,this.attribute=e.attribute,this.overrideCaption=e.caption}get(e){if(null===e)return this.overrideCaption?this.overrideCaption:this.emptyCaption;const t=this.optionsMap.get(e);if(!t)return this.unavailableCaption;const n=t.staticDataSourceCaption;return n.status&&"unavailable"!==n.status&&n.value?n.value:this.unavailableCaption}getCustomContent(e){if(null===e)return null;const t=this.optionsMap.get(e);return t?t.staticDataSourceCustomContent:null}render(e,n,o){var i;const{customContentType:r}=this;return"no"===r||"label"===n&&"listItem"===r||null===e?t(_,{htmlFor:o},null!==(i=this.get(e))&&void 0!==i?i:null):t("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class ie{constructor(){this.type="single",this.attributeType="string",this.selectorType="static",this.status="unavailable",this.clearable=!1,this.currentId=null,this.readOnly=!1,this.customContentType="no",this.validation=void 0,this._objectsMap=new Map,this.caption=new oe(this._objectsMap),this.options=new ne(this.caption,this._objectsMap)}updateProps(e){var t,n;const[o,i,r,s,a,l,u]=function(e){const t=e.staticAttribute,n=e.filterType,o=e.onChangeEvent;if(!t)throw new Error("'optionsSourceType' type is 'Database' but 'databaseAttributeString' is not defined.");const i=e.optionsSourceStaticDataSource;if(!i)throw new Error("'optionsSourceType' type is 'database' but 'optionsSourceStaticDataSource' is not defined.");return[t,i,e.emptyOptionText,"boolean"!=typeof e.staticAttribute.value&&e.clearable,n,o,e.staticDataSourceCustomContentType]}(e);if(this._attr=o,this.caption.updateProps({emptyOptionText:r,customContentType:u,caption:this._attr.displayValue}),this.options._updateProps({ds:i,filterType:a}),!o||"unavailable"===o.status||!i||"unavailable"===i[0].staticDataSourceValue.status||"unavailable"===i[0].staticDataSourceCaption.status||!r||"unavailable"===r.status)return this.status="unavailable",this.currentId=null,void(this.clearable=!1);if(i.length>0&&"available"===i[0].staticDataSourceValue.status){const e=i.findIndex((e=>F(e.staticDataSourceValue.value,o.value)));-1!==e&&(this.currentId=e.toString())}this.clearable=s,this.status=o.status,this.readOnly=o.readOnly,this.onChangeEvent=l,this.customContentType=u,this.validation=o.validation,this.attributeType="boolean"==typeof(null===(t=o.universe)||void 0===t?void 0:t[0])?"boolean":"datetime"===(null===(n=o.formatter)||void 0===n?void 0:n.type)?"date":"string"}setValue(e){var t;const n=this._objectsMap.get(e||"");null===(t=this._attr)||void 0===t||t.setValue(null==n?void 0:n.staticDataSourceValue.value),this.currentId=e,f(this.onChangeEvent)}}function re(e){const t=n(void 0),[,i]=o({});return t.current||(t.current=function(e){var t;if("context"===e.source){if(["enumeration","boolean"].includes(e.optionsSourceType))return new te;if("association"===e.optionsSourceType)return"Reference"===e.attributeAssociation.type?new W:new U;throw new Error("'optionsSourceType' of type '".concat(e.optionsSourceType,"' is not supported"))}if("database"===e.source)return"Multi"===(null===(t=e.optionsSourceDatabaseItemSelection)||void 0===t?void 0:t.type)?new X:new G;if("static"===e.source)return new ie;throw new Error("Source of type '".concat(e.source,"' is not supported"))}(e),t.current.options.onAfterSearchTermChange((()=>i({})))),t.current.updateProps(e),t.current}var se,ae={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/se=ae,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var r=typeof i;if("string"===r||"number"===r)n.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&n.push(s)}}else if("object"===r){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var a in i)e.call(i,a)&&i[a]&&n.push(a)}}}return n.join(" ")}se.exports?(t.default=t,se.exports=t):window.classNames=t}();var le=ae.exports;function ue(e){let{size:n=14}=e;return t("span",{className:"widget-combobox-icon-container"},t("svg",{width:n,height:n,viewBox:"0 0 32 32",className:"widget-combobox-clear-button-icon"},t("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",d:"M27.71 5.71004L26.29 4.29004L16 14.59L5.71004 4.29004L4.29004 5.71004L14.59 16L4.29004 26.29L5.71004 27.71L16 17.41L26.29 27.71L27.71 26.29L17.41 16L27.71 5.71004Z"})))}function ce(e){let{isOpen:n}=e;return t("span",{className:"widget-combobox-icon-container"},t("svg",{className:le("widget-combobox-down-arrow-icon","mx-icon-lined","mx-icon-chevron-down",{active:n}),width:"16",height:"16",viewBox:"0 0 32 32"},t("path",{d:"M16 23.41L4.29004 11.71L5.71004 10.29L16 20.59L26.29 10.29L27.71 11.71L16 23.41Z"})))}function de(e){let{checked:n,id:o,focusable:r,onClick:s,ariaLabel:a}=e;return t(i,null,t("span",{className:"widget-combobox-icon-container"},t("input",{type:"checkbox",tabIndex:r?0:-1,checked:n,id:o,role:"presentation",onClick:s||(e=>{e.preventDefault()}),onChange:()=>{}})),a?t(_,{htmlFor:o},a):void 0)}function pe(){return t("div",{className:"form-control widget-combobox-placeholder"},t("div",{className:"widget-combobox-placeholder-down-arrow"},t(ce,null)))}function he(e){return t("li",{className:"widget-combobox-item widget-combobox-no-options",role:"option"},e.children)}function ve(e){var n;return t("div",{className:le("widget-combobox-placeholder-".concat(null!==(n=e.type)&&void 0!==n?n:"text"),{"widget-combobox-placeholder-empty":e.isEmpty})},e.children)}function ge(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},me.apply(this,arguments)}var fe,ye,be,Ie,xe={exports:{}};xe.exports=function(){if(Ie)return be;Ie=1;var e=ye?fe:(ye=1,fe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,be=function(){function o(t,n,o,i,r,s){if(s!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function i(){return o}o.isRequired=o;var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r}}()();var Ce,we={};!function(){if(Ce)return we;Ce=1;var e=60103,t=60106,n=60107,o=60108,i=60114,r=60109,s=60110,a=60112,l=60113,u=60120,c=60115,d=60116,p=60121,h=60122,v=60117,g=60129,m=60131;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;e=f("react.element"),t=f("react.portal"),n=f("react.fragment"),o=f("react.strict_mode"),i=f("react.profiler"),r=f("react.provider"),s=f("react.context"),a=f("react.forward_ref"),l=f("react.suspense"),u=f("react.suspense_list"),c=f("react.memo"),d=f("react.lazy"),p=f("react.block"),h=f("react.server.block"),v=f("react.fundamental"),g=f("react.debug_trace_mode"),m=f("react.legacy_hidden")}function y(p){if("object"==typeof p&&null!==p){var h=p.$$typeof;switch(h){case e:switch(p=p.type){case n:case i:case o:case l:case u:return p;default:switch(p=p&&p.$$typeof){case s:case a:case d:case c:case r:return p;default:return h}}case t:return h}}}var b=r,I=e,x=a,C=n,w=d,T=c,O=t,S=i,E=o,M=l;we.ContextConsumer=s,we.ContextProvider=b,we.Element=I,we.ForwardRef=x,we.Fragment=C,we.Lazy=w,we.Memo=T,we.Portal=O,we.Profiler=S,we.StrictMode=E,we.Suspense=M,we.isAsyncMode=function(){return!1},we.isConcurrentMode=function(){return!1},we.isContextConsumer=function(e){return y(e)===s},we.isContextProvider=function(e){return y(e)===r},we.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},we.isForwardRef=function(e){return y(e)===a},we.isFragment=function(e){return y(e)===n},we.isLazy=function(e){return y(e)===d},we.isMemo=function(e){return y(e)===c},we.isPortal=function(e){return y(e)===t},we.isProfiler=function(e){return y(e)===i},we.isStrictMode=function(e){return y(e)===o},we.isSuspense=function(e){return y(e)===l},we.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===i||e===g||e===o||e===l||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===c||e.$$typeof===r||e.$$typeof===s||e.$$typeof===a||e.$$typeof===v||e.$$typeof===p||e[0]===h)},we.typeOf=y}();let Te=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Oe=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Se=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return Oe(n.overflowY,t)||Oe(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},Ee=(e,t,n,o,i,r,s,a)=>r<e&&s>t||r>e&&s<t?0:r<=e&&a<=n||s>=t&&a>=n?r-e-o:s>t&&a<n||r<e&&a>n?s-t+i:0,Me=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t};var ke=function(){return ke=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ke.apply(this,arguments)},Ae=0;function Le(){}function Pe(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function Ve(e,t){var n;function o(){n&&clearTimeout(n)}function i(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];o(),n=setTimeout((function(){n=null,e.apply(void 0,r)}),t)}return i.cancel=o,i}function De(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.some((function(t){return t&&t.apply(void 0,[e].concat(o)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function _e(e,t){return Object.keys(e).reduce((function(n,o){return n[o]=Re(t,o)?t[o]:e[o],n}),{})}function Re(e,t){return void 0!==e[t]}function Fe(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function Be(e,t,n,o,i){if(void 0===i&&(i=!0),0===n)return-1;var r=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:r+1);var s=t+e;s<0?s=i?r:0:s>r&&(s=i?0:r);var a=He(e,s,n,o,i);return-1===a?t>=n?-1:t:a}function He(e,t,n,o,i){var r=o(t);if(!r||!r.hasAttribute("disabled"))return t;if(e>0){for(var s=t+1;s<n;s++)if(!o(s).hasAttribute("disabled"))return s}else for(var a=t-1;a>=0;a--)if(!o(a).hasAttribute("disabled"))return a;return i?e>0?He(1,0,n,o,!1):He(-1,n-1,n,o,!1):-1}function ze(e,t,n,o){return void 0===o&&(o=!0),t.some((function(t){return t&&(Pe(t,e,n)||o&&Pe(t,n.document.activeElement,n))}))}var Ke=Ve((function(e){Ue(e).textContent=""}),500);function je(e,t){var n=Ue(t);e&&(n.textContent=e,Ke(t))}function Ue(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var We=["isInitialMount","highlightedIndex","items","environment"],$e={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function qe(e,t,n){var o=e.props,i=e.type,r={};Object.keys(t).forEach((function(o){!function(e,t,n,o){var i=t.props,r=t.type,s="on"+Ge(e)+"Change";i[s]&&void 0!==o[e]&&o[e]!==n[e]&&i[s](me({type:r},o))}(o,e,t,n),n[o]!==t[o]&&(r[o]=n[o])})),o.onStateChange&&Object.keys(r).length&&o.onStateChange(me({type:i},r))}var Ye=Ve((function(e,t){je(e(),t)}),200),Xe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a:s;function Qe(e){var t=e.id,o=void 0===t?"downshift-"+String(Ae++):t,i=e.labelId,r=e.menuId,s=e.getItemId,a=e.toggleButtonId,l=e.inputId;return n({labelId:i||o+"-label",menuId:r||o+"-menu",getItemId:s||function(e){return o+"-item-"+e},toggleButtonId:a||o+"-toggle-button",inputId:l||o+"-input"}).current}function Ze(e,t,n,o){var i,r;if(void 0===e){if(void 0===t)throw new Error(o);i=n[t],r=t}else r=void 0===t?n.indexOf(e):t,i=e;return[i,r]}function Ge(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Je(e){var t=n(e);return t.current=e,t}function et(e,t,o){var i=n(),a=n(),u=r((function(t,n){a.current=n,t=_e(t,n.props);var o=e(t,n);return n.props.stateReducer(t,me({},n,{changes:o}))}),[e]),c=l(u,t),d=c[0],p=c[1],h=Je(o),v=r((function(e){return p(me({props:h.current},e))}),[h]),g=a.current;return s((function(){g&&i.current&&i.current!==d&&qe(g,_e(i.current,g.props),d),i.current=d}),[d,o,g]),[d,v]}var tt={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:function(e,t){if(e){var n=((e,t)=>{var n,o,i,r,s,a;if("undefined"==typeof document)return[];let{scrollMode:l,block:u,inline:c,boundary:d,skipOverflowHiddenElements:p}=t,h="function"==typeof d?d:e=>e!==d;if(!Te(e))throw new TypeError("Invalid target");let v=document.scrollingElement||document.documentElement,g=[],m=e;for(;Te(m)&&h(m);){if(m=Me(m),m===v){g.push(m);break}null!=m&&m===document.body&&Se(m)&&!Se(document.documentElement)||null!=m&&Se(m,p)&&g.push(m)}let f=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,y=null!=(r=null==(i=window.visualViewport)?void 0:i.height)?r:innerHeight,b=null!=(s=window.scrollX)?s:pageXOffset,I=null!=(a=window.scrollY)?a:pageYOffset,{height:x,width:C,top:w,right:T,bottom:O,left:S}=e.getBoundingClientRect(),E="start"===u||"nearest"===u?w:"end"===u?O:w+x/2,M="center"===c?S+C/2:"end"===c?T:S,k=[];for(let e=0;e<g.length;e++){let t=g[e],{height:n,width:o,top:i,right:r,bottom:s,left:a}=t.getBoundingClientRect();if("if-needed"===l&&w>=0&&S>=0&&O<=y&&T<=f&&w>=i&&O<=s&&S>=a&&T<=r)return k;let d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),h=parseInt(d.borderTopWidth,10),m=parseInt(d.borderRightWidth,10),A=parseInt(d.borderBottomWidth,10),L=0,P=0,V="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-m:0,D="offsetHeight"in t?t.offsetHeight-t.clientHeight-h-A:0,N="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,_="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(v===t)L="start"===u?E:"end"===u?E-y:"nearest"===u?Ee(I,I+y,y,h,A,I+E,I+E+x,x):E-y/2,P="start"===c?M:"center"===c?M-f/2:"end"===c?M-f:Ee(b,b+f,f,p,m,b+M,b+M+C,C),L=Math.max(0,L+I),P=Math.max(0,P+b);else{L="start"===u?E-i-h:"end"===u?E-s+A+D:"nearest"===u?Ee(i,s,n,h,A+D,E,E+x,x):E-(i+n/2)+D/2,P="start"===c?M-a-p:"center"===c?M-(a+o/2)+V/2:"end"===c?M-r+m+V:Ee(a,r,o,p,m+V,M,M+C,C);let{scrollLeft:e,scrollTop:l}=t;L=Math.max(0,Math.min(l+L/_,t.scrollHeight-n/_+D)),P=Math.max(0,Math.min(e+P/N,t.scrollWidth-o/N+V)),E+=l-L,M+=e-P}k.push({el:t,top:L,left:P})}return k})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,o=e.left;t.scrollTop=n,t.scrollLeft=o}))}},environment:"undefined"==typeof window?{}:window};function nt(e,t,n){void 0===n&&(n=$e);var o=e["default"+Ge(t)];return void 0!==o?o:n[t]}function ot(e,t,n){void 0===n&&(n=$e);var o=e[t];if(void 0!==o)return o;var i=e["initial"+Ge(t)];return void 0!==i?i:nt(e,t,n)}function it(e,t,n){var o=e.items,i=e.initialHighlightedIndex,r=e.defaultHighlightedIndex,s=t.selectedItem,a=t.highlightedIndex;return 0===o.length?-1:void 0!==i&&a===i?i:void 0!==r?r:s?o.indexOf(s):0===n?-1:n<0?o.length-1:0}var rt=function(){return Le};function st(e,t,n){var o=n.isInitialMount,i=n.highlightedIndex,r=n.items,a=n.environment,l=ge(n,We);s((function(){o||Ye((function(){return e(me({highlightedIndex:i,highlightedItem:r[i],resultCount:r.length},l))}),a.document)}),t)}var at=Le;function lt(e,t,n){var o;return void 0===n&&(n=!0),me({isOpen:!1,highlightedIndex:-1},(null==(o=e.items)?void 0:o.length)&&t>=0&&me({selectedItem:e.items[t],isOpen:nt(e,"isOpen"),highlightedIndex:nt(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}xe.exports.array.isRequired,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.number,xe.exports.number,xe.exports.number,xe.exports.bool,xe.exports.bool,xe.exports.bool,xe.exports.any,xe.exports.any,xe.exports.any,xe.exports.string,xe.exports.string,xe.exports.string,xe.exports.func,xe.exports.string,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.shape({addEventListener:xe.exports.func,removeEventListener:xe.exports.func,document:xe.exports.shape({getElementById:xe.exports.func,activeElement:xe.exports.any,body:xe.exports.any})}),ke(ke({},tt),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,o=e.previousResultCount;return t?n?n!==o?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}});var ut=0,ct=1,dt=2,pt=3,ht=4,vt=5,gt=6,mt=7,ft=8,yt=9,bt=10,It=11,xt=12,Ct=13,wt=14,Tt=15,Ot=16,St=17,Et=18,Mt=19,kt=20,At=21,Lt=22,Pt=Object.freeze({__proto__:null,InputKeyDownArrowDown:ut,InputKeyDownArrowUp:ct,InputKeyDownEscape:dt,InputKeyDownHome:pt,InputKeyDownEnd:ht,InputKeyDownPageUp:vt,InputKeyDownPageDown:gt,InputKeyDownEnter:mt,InputChange:ft,InputBlur:yt,InputFocus:bt,MenuMouseLeave:It,ItemMouseMove:xt,ItemClick:Ct,ToggleButtonClick:wt,FunctionToggleMenu:Tt,FunctionOpenMenu:Ot,FunctionCloseMenu:St,FunctionSetHighlightedIndex:Et,FunctionSelectItem:Mt,FunctionSetInputValue:kt,FunctionReset:At,ControlledPropUpdatedSelectedItem:Lt});function Vt(e){var t=function(e){var t=ot(e,"selectedItem"),n=ot(e,"isOpen"),o=ot(e,"highlightedIndex"),i=ot(e,"inputValue");return{highlightedIndex:o<0&&t&&n?e.items.indexOf(t):o,isOpen:n,selectedItem:t,inputValue:i}}(e),n=t.selectedItem,o=t.inputValue;return""===o&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(o=e.itemToString(n)),me({},t,{inputValue:o})}xe.exports.array.isRequired,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.number,xe.exports.number,xe.exports.number,xe.exports.bool,xe.exports.bool,xe.exports.bool,xe.exports.any,xe.exports.any,xe.exports.any,xe.exports.string,xe.exports.string,xe.exports.string,xe.exports.string,xe.exports.string,xe.exports.string,xe.exports.func,xe.exports.string,xe.exports.string,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.shape({addEventListener:xe.exports.func,removeEventListener:xe.exports.func,document:xe.exports.shape({getElementById:xe.exports.func,activeElement:xe.exports.any,body:xe.exports.any})});var Dt=me({},tt,{selectedItemChanged:function(e,t){return e!==t},getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,o=e.previousResultCount;return t?n?n!==o?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}});function Nt(e,t){var n,o,i=t.type,r=t.props,s=t.altKey;switch(i){case Ct:o={isOpen:nt(r,"isOpen"),highlightedIndex:nt(r,"highlightedIndex"),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case ut:o=e.isOpen?{highlightedIndex:Be(1,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:it(r,e,1,t.getItemNodeFromIndex),isOpen:r.items.length>=0};break;case ct:o=e.isOpen?s?lt(r,e.highlightedIndex):{highlightedIndex:Be(-1,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:it(r,e,-1,t.getItemNodeFromIndex),isOpen:r.items.length>=0};break;case mt:o=lt(r,e.highlightedIndex);break;case dt:o=me({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case vt:o={highlightedIndex:Be(-10,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,!1)};break;case gt:o={highlightedIndex:Be(10,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,!1)};break;case pt:o={highlightedIndex:He(1,0,r.items.length,t.getItemNodeFromIndex,!1)};break;case ht:o={highlightedIndex:He(-1,r.items.length-1,r.items.length,t.getItemNodeFromIndex,!1)};break;case yt:o=me({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=r.items)?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case ft:o={isOpen:!0,highlightedIndex:nt(r,"highlightedIndex"),inputValue:t.inputValue};break;case bt:o={isOpen:!0,highlightedIndex:it(r,e,0)};break;case Mt:o={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case Lt:o={inputValue:t.inputValue};break;default:return function(e,t,n){var o,i=t.type,r=t.props;switch(i){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:it(r,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:it(r,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:nt(r,"highlightedIndex"),isOpen:nt(r,"isOpen"),selectedItem:nt(r,"selectedItem"),inputValue:nt(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return me({},e,o)}(e,t,Pt)}return me({},e,o)}var _t=["onMouseLeave","refKey","ref"],Rt=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Ft=["onClick","onPress","refKey","ref"],Bt=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];function Ht(t){void 0===t&&(t={});var o=me({},Dt,t),i=o.initialIsOpen,a=o.defaultIsOpen,l=o.items,u=o.scrollIntoView,c=o.environment,d=o.getA11yStatusMessage,p=o.getA11ySelectionMessage,h=o.itemToString,v=function(e,t,o){var i=n(),r=et(e,t,o),a=r[0],l=r[1];return s((function(){Re(o,"selectedItem")&&(o.selectedItemChanged(i.current,o.selectedItem)&&l({type:Lt,inputValue:o.itemToString(o.selectedItem)}),i.current=a.selectedItem===i.current?o.selectedItem:a.selectedItem)}),[a.selectedItem,o.selectedItem]),[_e(a,o),l]}(Nt,Vt(o),o),g=v[0],m=v[1],f=g.isOpen,y=g.highlightedIndex,b=g.selectedItem,I=g.inputValue,x=n(null),C=n({}),w=n(null),T=n(null),O=n(!0),S=Qe(o),E=n(),M=Je({state:g,props:o}),k=r((function(e){return C.current[S.getItemId(e)]}),[S]);st(d,[f,y,I,l],me({isInitialMount:O.current,previousResultCount:E.current,items:l,environment:c,itemToString:h},g)),st(p,[b],me({isInitialMount:O.current,previousResultCount:E.current,items:l,environment:c,itemToString:h},g));var A=function(e){var t=e.highlightedIndex,o=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,s=e.menuElement,a=e.scrollIntoView,l=n(!0);return Xe((function(){t<0||!o||!Object.keys(i.current).length||(!1===l.current?l.current=!0:a(r(t),s))}),[t]),l}({menuElement:x.current,highlightedIndex:y,isOpen:f,itemRefs:C,scrollIntoView:u,getItemNodeFromIndex:k});at({isInitialMount:O.current,props:o,state:g}),s((function(){(i||a||f)&&w.current&&w.current.focus()}),[]),s((function(){O.current||(E.current=l.length)}));var L=function(e,t,o,i){var r=n({isMouseDown:!1,isTouchMove:!1});return s((function(){if(null!=(null==o?void 0:o.addEventListener)){var n=function(){r.current.isMouseDown=!0},s=function(n){r.current.isMouseDown=!1,e&&!ze(n.target,t.map((function(e){return e.current})),o)&&i()},a=function(){r.current.isTouchMove=!1},l=function(){r.current.isTouchMove=!0},u=function(n){!e||r.current.isTouchMove||ze(n.target,t.map((function(e){return e.current})),o,!1)||i()};return o.addEventListener("mousedown",n),o.addEventListener("mouseup",s),o.addEventListener("touchstart",a),o.addEventListener("touchmove",l),o.addEventListener("touchend",u),function(){o.removeEventListener("mousedown",n),o.removeEventListener("mouseup",s),o.removeEventListener("touchstart",a),o.removeEventListener("touchmove",l),o.removeEventListener("touchend",u)}}}),[e,o]),r}(f,[w,x,T],c,(function(){m({type:yt,selectItem:!1})})),P=rt();s((function(){return O.current=!1,function(){O.current=!0}}),[]),s((function(){var e;if(f){if((null==(e=c.document)?void 0:e.activeElement)!==w.current){var t;null==w||null==(t=w.current)||t.focus()}}else C.current={}}),[f,c]);var V=e((function(){return{ArrowDown:function(e){e.preventDefault(),m({type:ut,altKey:e.altKey,getItemNodeFromIndex:k})},ArrowUp:function(e){e.preventDefault(),m({type:ct,altKey:e.altKey,getItemNodeFromIndex:k})},Home:function(e){M.current.state.isOpen&&(e.preventDefault(),m({type:pt,getItemNodeFromIndex:k}))},End:function(e){M.current.state.isOpen&&(e.preventDefault(),m({type:ht,getItemNodeFromIndex:k}))},Escape:function(e){var t=M.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),m({type:dt}))},Enter:function(e){M.current.state.isOpen&&229!==e.which&&(e.preventDefault(),m({type:mt,getItemNodeFromIndex:k}))},PageUp:function(e){M.current.state.isOpen&&(e.preventDefault(),m({type:vt,getItemNodeFromIndex:k}))},PageDown:function(e){M.current.state.isOpen&&(e.preventDefault(),m({type:gt,getItemNodeFromIndex:k}))}}}),[m,M,k]),D=r((function(e){return me({id:S.labelId,htmlFor:S.inputId},e)}),[S]),N=r((function(e,t){var n,o=void 0===e?{}:e,i=o.onMouseLeave,r=o.refKey,s=void 0===r?"ref":r,a=o.ref,l=ge(o,_t);return(void 0===t?{}:t).suppressRefError,me(((n={})[s]=Ne(a,(function(e){x.current=e})),n.id=S.menuId,n.role="listbox",n["aria-labelledby"]=l&&l["aria-label"]?void 0:""+S.labelId,n.onMouseLeave=De(i,(function(){m({type:It})})),n),l)}),[m,P,S]),_=r((function(e){var t,n,o=void 0===e?{}:e,i=o.item,r=o.index,s=o.refKey,a=void 0===s?"ref":s,l=o.ref,u=o.onMouseMove,c=o.onMouseDown,d=o.onClick;o.onPress;var p=o.disabled,h=ge(o,Rt),v=M.current,g=v.props,f=v.state,y=Ze(i,r,g.items,"Pass either item or index to getItemProps!")[1],b=d;return me(((t={})[a]=Ne(l,(function(e){e&&(C.current[S.getItemId(y)]=e)})),t.disabled=p,t.role="option",t["aria-selected"]=""+(y===f.highlightedIndex),t.id=S.getItemId(y),t),!p&&((n={}).onClick=De(b,(function(){m({type:Ct,index:y})})),n),{onMouseMove:De(u,(function(){y!==f.highlightedIndex&&(A.current=!1,m({type:xt,index:y,disabled:p}))})),onMouseDown:De(c,(function(e){return e.preventDefault()}))},h)}),[m,M,A,S]),R=r((function(e){var t,n=void 0===e?{}:e,o=n.onClick;n.onPress;var i=n.refKey,r=void 0===i?"ref":i,s=n.ref,a=ge(n,Ft),l=M.current.state;return me(((t={})[r]=Ne(s,(function(e){T.current=e})),t["aria-controls"]=S.menuId,t["aria-expanded"]=l.isOpen,t.id=S.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&me({},{onClick:De(o,(function(){m({type:wt})}))}),a)}),[m,M,S]),F=r((function(e,t){var n,o=void 0===e?{}:e,i=o.onKeyDown,r=o.onChange,s=o.onInput,a=o.onFocus,l=o.onBlur;o.onChangeText;var u=o.refKey,d=void 0===u?"ref":u,p=o.ref,h=ge(o,Bt);(void 0===t?{}:t).suppressRefError;var v,g=M.current.state,f={};h.disabled||((v={}).onChange=De(r,s,(function(e){m({type:ft,inputValue:e.target.value})})),v.onKeyDown=De(i,(function(e){var t=Fe(e);t&&V[t]&&V[t](e)})),v.onBlur=De(l,(function(e){if(g.isOpen&&!L.current.isMouseDown){var t=null===e.relatedTarget&&c.document.activeElement!==c.document.body;m({type:yt,selectItem:!t})}})),v.onFocus=De(a,(function(){g.isOpen||m({type:bt})})),f=v);return me(((n={})[d]=Ne(p,(function(e){w.current=e})),n["aria-activedescendant"]=g.isOpen&&g.highlightedIndex>-1?S.getItemId(g.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=S.menuId,n["aria-expanded"]=g.isOpen,n["aria-labelledby"]=h&&h["aria-label"]?void 0:""+S.labelId,n.autoComplete="off",n.id=S.inputId,n.role="combobox",n.value=g.inputValue,n),f,h)}),[P,M,S,V,m,L,c]),B=r((function(){m({type:Tt})}),[m]),H=r((function(){m({type:St})}),[m]),z=r((function(){m({type:Ot})}),[m]),K=r((function(e){m({type:Et,highlightedIndex:e})}),[m]),j=r((function(e){m({type:Mt,selectedItem:e})}),[m]);return{getItemProps:_,getLabelProps:D,getMenuProps:N,getInputProps:F,getToggleButtonProps:R,toggleMenu:B,openMenu:z,closeMenu:H,setHighlightedIndex:K,setInputValue:r((function(e){m({type:kt,inputValue:e})}),[m]),selectItem:j,reset:r((function(){m({type:At})}),[m]),highlightedIndex:y,isOpen:f,selectedItem:b,inputValue:I}}Ht.stateChangeTypes=Pt;var zt={activeIndex:-1,selectedItems:[]};function Kt(e,t){return ot(e,t,zt)}function jt(e,t){return nt(e,t,zt)}function Ut(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}xe.exports.array,xe.exports.array,xe.exports.array,xe.exports.func,xe.exports.func,xe.exports.func,xe.exports.number,xe.exports.number,xe.exports.number,xe.exports.func,xe.exports.func,xe.exports.string,xe.exports.string,xe.exports.shape({addEventListener:xe.exports.func,removeEventListener:xe.exports.func,document:xe.exports.shape({getElementById:xe.exports.func,activeElement:xe.exports.any,body:xe.exports.any})});var Wt={itemToString:tt.itemToString,stateReducer:tt.stateReducer,environment:tt.environment,getA11yRemovalMessage:function(e){var t=e.removedSelectedItem;return(0,e.itemToString)(t)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},$t=0,qt=1,Yt=2,Xt=3,Qt=4,Zt=5,Gt=6,Jt=7,en=8,tn=9,nn=10,on=11,rn=12,sn=Object.freeze({__proto__:null,SelectedItemClick:$t,SelectedItemKeyDownDelete:qt,SelectedItemKeyDownBackspace:Yt,SelectedItemKeyDownNavigationNext:Xt,SelectedItemKeyDownNavigationPrevious:Qt,DropdownKeyDownNavigationPrevious:Zt,DropdownKeyDownBackspace:Gt,DropdownClick:Jt,FunctionAddSelectedItem:en,FunctionRemoveSelectedItem:tn,FunctionSetSelectedItems:nn,FunctionSetActiveIndex:on,FunctionReset:rn});function an(e,t){var n,o=t.type,i=t.index,r=t.props,s=t.selectedItem,a=e.activeIndex,l=e.selectedItems;switch(o){case $t:n={activeIndex:i};break;case Qt:n={activeIndex:a-1<0?0:a-1};break;case Xt:n={activeIndex:a+1>=l.length?-1:a+1};break;case Yt:case qt:if(a<0)break;var u=a;1===l.length?u=-1:a===l.length-1&&(u=l.length-2),n=me({selectedItems:[].concat(l.slice(0,a),l.slice(a+1))},{activeIndex:u});break;case Zt:n={activeIndex:l.length-1};break;case Gt:n={selectedItems:l.slice(0,l.length-1)};break;case en:n={selectedItems:[].concat(l,[s])};break;case Jt:n={activeIndex:-1};break;case tn:var c=a,d=l.indexOf(s);if(d<0)break;1===l.length?c=-1:d===l.length-1&&(c=l.length-2),n={selectedItems:[].concat(l.slice(0,d),l.slice(d+1)),activeIndex:c};break;case nn:n={selectedItems:t.selectedItems};break;case on:n={activeIndex:t.activeIndex};break;case rn:n={activeIndex:jt(r,"activeIndex"),selectedItems:jt(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return me({},e,n)}var ln=["refKey","ref","onClick","onKeyDown","selectedItem","index"],un=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function cn(t){void 0===t&&(t={});var o=me({},Wt,t),i=o.getA11yRemovalMessage,a=o.itemToString,l=o.environment,u=o.keyNavigationNext,c=o.keyNavigationPrevious,d=function(e,t,n){var o=et(e,t,n),i=o[0],r=o[1];return[_e(i,n),r]}(an,function(e){return{activeIndex:Kt(e,"activeIndex"),selectedItems:Kt(e,"selectedItems")}}(o),o),p=d[0],h=d[1],v=p.activeIndex,g=p.selectedItems,m=n(!0),f=n(null),y=n(g),b=n();b.current=[];var I=Je({state:p,props:o});s((function(){if(!m.current){if(g.length<y.current.length){var e=y.current.find((function(e){return g.indexOf(e)<0}));je(i({itemToString:a,resultCount:g.length,removedSelectedItem:e,activeIndex:v,activeSelectedItem:g[v]}),l.document)}y.current=g}}),[g.length]),s((function(){m.current||(-1===v&&f.current?f.current.focus():b.current[v]&&b.current[v].focus())}),[v]),at({isInitialMount:m.current,props:o,state:p});var x=rt();s((function(){return m.current=!1,function(){m.current=!0}}),[]);var C=e((function(){var e;return(e={})[c]=function(){h({type:Qt})},e[u]=function(){h({type:Xt})},e.Delete=function(){h({type:qt})},e.Backspace=function(){h({type:Yt})},e}),[h,u,c]),w=e((function(){var e;return(e={})[c]=function(e){Ut(e)&&h({type:Zt})},e.Backspace=function(e){Ut(e)&&h({type:Gt})},e}),[h,c]);return{getSelectedItemProps:r((function(e){var t,n=void 0===e?{}:e,o=n.refKey,i=void 0===o?"ref":o,r=n.ref,s=n.onClick,a=n.onKeyDown,l=n.selectedItem,u=n.index,c=ge(n,ln),d=I.current.state,p=Ze(l,u,d.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],v=p>-1&&p===d.activeIndex;return me(((t={})[i]=Ne(r,(function(e){e&&b.current.push(e)})),t.tabIndex=v?0:-1,t.onClick=De(s,(function(){h({type:$t,index:p})})),t.onKeyDown=De(a,(function(e){var t=Fe(e);t&&C[t]&&C[t](e)})),t),c)}),[h,I,C]),getDropdownProps:r((function(e,t){var n,o=void 0===e?{}:e,i=o.refKey,r=void 0===i?"ref":i,s=o.ref,a=o.onKeyDown,l=o.onClick,u=o.preventKeyAction,c=void 0!==u&&u,d=ge(o,un);(void 0===t?{}:t).suppressRefError;return me(((n={})[r]=Ne(s,(function(e){e&&(f.current=e)})),n),!c&&{onKeyDown:De(a,(function(e){var t=Fe(e);t&&w[t]&&w[t](e)})),onClick:De(l,(function(){h({type:Jt})}))},d)}),[h,w,x]),addSelectedItem:r((function(e){h({type:en,selectedItem:e})}),[h]),removeSelectedItem:r((function(e){h({type:tn,selectedItem:e})}),[h]),setSelectedItems:r((function(e){h({type:nn,selectedItems:e})}),[h]),setActiveIndex:r((function(e){h({type:on,activeIndex:e})}),[h]),reset:r((function(){h({type:rn})}),[h]),selectedItems:g,activeIndex:v}}function dn(t,n,o){var i;const{getSelectedItemProps:s,getDropdownProps:a,removeSelectedItem:l,setActiveIndex:u,selectedItems:c,setSelectedItems:d,activeIndex:p,addSelectedItem:h}=cn({selectedItems:null!==(i=t.currentId)&&void 0!==i?i:[],itemToString:e=>t.caption.get(e),getA11yRemovalMessage:e=>"".concat(e.itemToString(e.removedSelectedItem)," has been removed."),onSelectedItemsChange(e){let{selectedItems:n}=e;t.setValue(null!=n?n:[])},onStateChange(e){let{selectedItems:t,type:n}=e;switch(n){case cn.stateChangeTypes.SelectedItemKeyDownBackspace:case cn.stateChangeTypes.SelectedItemKeyDownDelete:case cn.stateChangeTypes.DropdownKeyDownBackspace:case cn.stateChangeTypes.FunctionRemoveSelectedItem:d(t)}}}),v=t.getOptions(),{isOpen:g,reset:m,getToggleButtonProps:f,getMenuProps:y,getInputProps:b,highlightedIndex:I,getItemProps:x,inputValue:C,setInputValue:w,closeMenu:T}=Ht(function(t,n,o,i,r,s,a){return e((()=>({items:o,selectedItem:null,inputId:null==a?void 0:a.inputId,labelId:null==a?void 0:a.labelId,onInputValueChange(e){let{inputValue:n}=e;t.options.setSearchTerm(n)},getA11yStatusMessage(e){let o=n.length>0?"".concat(s.a11ySelectedValue," ").concat(n.map((e=>t.caption.get(e))).join(","),". "):"";return e.resultCount?e.isOpen?(e.previousResultCount===e.resultCount&&e.highlightedItem||(o+="".concat(s.a11yOptionsAvailable," ").concat(e.resultCount,". ").concat(s.a11yInstructions)),o):o:s.a11yNoOption},itemToString:e=>t.caption.get(e),stateReducer(e,t){const{changes:n,type:i}=t;switch(i){case Ht.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...n,inputValue:e.inputValue};case Ht.stateChangeTypes.InputFocus:return{...n,isOpen:e.isOpen};case Ht.stateChangeTypes.InputKeyDownEnter:case Ht.stateChangeTypes.ItemClick:return{...n,...n.selectedItem&&{isOpen:!0,inputValue:"",highlightedIndex:o.indexOf(n.selectedItem)}};case Ht.stateChangeTypes.InputKeyDownEscape:case Ht.stateChangeTypes.FunctionCloseMenu:return{...n,...n.selectedItem&&{isOpen:!1,inputValue:"",highlightedIndex:o.indexOf(n.selectedItem)}};case Ht.stateChangeTypes.InputBlur:return{...e,highlightedIndex:-1};default:return n}},onStateChange(e){let{type:t,selectedItem:o}=e;switch(t){case Ht.stateChangeTypes.InputKeyDownEnter:case Ht.stateChangeTypes.ItemClick:o&&!n.includes(o)?r([...n,o]):o&&i(o)}}})),[t,n,o,t.currentId,i,r,s.a11ySelectedValue,s.a11yOptionsAvailable,s.a11yNoOption,s.a11yInstructions])}(t,c,v,l,d,o,n));return t.onLeaveEvent=r(T,[T]),{isOpen:g,reset:m,getToggleButtonProps:f,getMenuProps:y,getInputProps:b,highlightedIndex:I,getItemProps:x,inputValue:C,setInputValue:w,getSelectedItemProps:s,getDropdownProps:a,removeSelectedItem:l,setActiveIndex:u,selectedItems:c,items:v,setSelectedItems:d,activeIndex:p,addSelectedItem:h,toggleSelectedItem:e=>{const t=v[e];t&&(c.includes(t)?(l(t),w("")):(h(t),w("")))}}}function pn(e){var t,i;const[r,a]=o(!1),l=null!==(i=(t=n()).current)&&void 0!==i?i:t.current=function(e){let{setIsIntersecting:t}=e;return new IntersectionObserver((e=>{let[n]=e;t(n.isIntersecting)}))}({setIsIntersecting:a});return s((()=>(e.current&&l.observe(e.current),()=>{l.disconnect()})),[l,e]),r}cn.stateChangeTypes=sn;const hn=30;function vn(e){const{hasMoreItems:t,isInfinite:i,isOpen:l,loadMore:u}=e,[c,d]=o(!1),p=r((()=>{u&&u()}),[u]),[h]=function(e){const{setPage:t,hasMoreItems:i,isInfinite:s}=e,[l,u]=o(0),c=n(null),d=pn(c),p=r((e=>{Math.floor(e.target.scrollHeight-hn-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&i&&t&&t((e=>e+1))}),[i,t]),h=r((()=>{d&&s&&i&&l<=0&&c.current&&u(c.current.clientHeight-hn)}),[s,i,l,d]);return a((()=>{setTimeout((()=>h()),100)}),[h]),[p,l,c]}({hasMoreItems:t,isInfinite:i,setPage:p});return s((()=>{!1===c&&!0===i&&!0===l&&(d(!0),p())}),[c,i,l,p]),{onScroll:h}}const gn=e=>{let{className:n,children:o}=e;return t(mn,{className:le("mx-validation-message",n),bootstrapStyle:"danger",role:"alert"},o)},mn=e=>{let{className:n,bootstrapStyle:o,children:i,role:r}=e;return u.count(i)>0?t("div",{className:le("alert alert-".concat(o),n),role:r},i):null};function fn(e){let{size:n="medium",withMargins:o=!1}=e;return t("div",{className:le("widget-combobox-spinner",{"widget-combobox-spinner-margin":o})},t("div",{className:le("widget-combobox-spinner-loader",{"widget-combobox-spinner-loader-small":"small"===n})}))}mn.displayName="Alert";const yn=c(((e,n)=>{const{isOpen:o,readOnly:r,readOnlyStyle:s,getToggleButtonProps:a,validation:l,children:u,isLoading:c}=e,{id:d,onClick:p}=a();return t(i,null,t("div",{ref:n,tabIndex:-1,className:le("widget-combobox-input-container",{"widget-combobox-input-container-active":o,"widget-combobox-input-container-disabled":r,"form-control-static":r&&"text"===s,"form-control":!r||"text"!==s}),id:d,onClick:p},u,r&&"text"===s?null:t("div",{className:"widget-combobox-down-arrow"},c?t(fn,{size:"small"}):t(ce,{isOpen:o}))),l&&t(gn,null,l))}));function bn(e,t){const[n,i]=o(),a=r((()=>{i((t=>{const n=null==e?void 0:e.getBoundingClientRect();return i=n,(o=t)&&i&&o.height===i.height&&o.width===i.width&&o.bottom===i.bottom&&o.top===i.top&&o.left===i.left&&o.right===i.right?t:n;var o,i}))}),[e]);var l;return s((()=>l?function(e){let t;const n=()=>{t=window.requestAnimationFrame((()=>{e(),n()}))},o=()=>window.cancelAnimationFrame(t);return n(),o}(l):void 0),[l=t?a:void 0]),n}const In=(e,t)=>{let n=null;const o=()=>{null!==n&&(clearTimeout(n),n=null)};return[function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];o(),n=setTimeout((()=>e(...r)),t)},o]};function xn(e,t){const{height:n}=t,o=window.innerHeight-e.bottom,i=e.top-n<0?e.top-n:0;return o<n?{bottom:window.innerHeight-e.top+i,left:e.left}:{top:e.bottom,left:e.left}}function Cn(e){e.stopPropagation()}function wn(e){e.preventDefault(),e.stopPropagation()}function Tn(i){const{alwaysOpen:r,children:a,getMenuProps:l,highlightedIndex:u,isEmpty:c,isLoading:d,isOpen:p,lazyLoading:h,loader:v,menuFooterContent:g,menuHeaderContent:m,noOptionsText:f,onOptionClick:y,onScroll:b}=i,[I,x]=function(t){var i,r,a,l;const u=n(null),[c,d]=o({visibility:"hidden",position:"fixed"}),[p,h]=e((()=>In(d,32)),[d]),v=null!==(r=null===(i=u.current)||void 0===i?void 0:i.offsetHeight)&&void 0!==r?r:0,g=bn(null!==(l=null===(a=u.current)||void 0===a?void 0:a.parentElement)&&void 0!==l?l:null,t);return s((()=>{if(void 0!==g&&null!==u.current&&t)return p({visibility:"visible",position:"fixed",width:g.width,...xn(g,u.current.getBoundingClientRect())}),h}),[v,t,g,p,h]),[u,c]}(p);return t("div",{ref:I,className:le("widget-combobox-menu",{"widget-combobox-menu-hidden":!p}),style:r?{display:"block",visibility:"visible",position:"relative"}:x},m&&t("div",{className:"widget-combobox-menu-header widget-combobox-item",onMouseDown:Cn,tabIndex:0},m),t("ul",{className:le("widget-combobox-menu-list",{"widget-combobox-menu-highlighted":(null!=u?u:-1)>=0,"widget-combobox-menu-lazy-scroll":h&&!c}),...null==l?void 0:l({onClick:y,onMouseDown:wn,onScroll:b},{suppressRefError:!0})},p?c&&!d?t(he,null,f):a:null,v),g&&t("div",{tabIndex:0,className:"widget-combobox-menu-footer",onMouseDown:Cn},g))}function On(e){const{children:n,isSelected:o,isHighlighted:i,item:r,getItemProps:s,index:a}=e;return t("li",{className:le("widget-combobox-item",{"widget-combobox-item-selected":o,"widget-combobox-item-highlighted":i}),...null==s?void 0:s({index:a,item:r}),"aria-selected":o},n)}function Sn(e){let{withCheckbox:n=!1}=e;return t("div",{className:"widget-combobox-skeleton"},n&&t("span",{className:"widget-combobox-skeleton-loader widget-combobox-skeleton-loader-small"}),t("span",{className:"widget-combobox-skeleton-loader"}))}function En(e){const{isEmpty:n,isLoading:o,isOpen:r,lazyLoading:s,loadingType:a,withCheckbox:l}=e;return r&&s&&o?"skeleton"===a?t(i,null,Array.from({length:N}).map(((e,n)=>t(Sn,{withCheckbox:l,key:n})))):t(fn,{withMargins:n}):null}function Mn(e){let{isOpen:n,getMenuProps:o,getItemProps:i,highlightedIndex:r,selector:s,selectableItems:a,noOptionsText:l,inputId:u,menuHeaderContent:c,menuFooterContent:d,onOptionClick:p,isLoading:h,lazyLoading:v,onScroll:g}=e;return t(Tn,{getMenuProps:o,highlightedIndex:r,isEmpty:a.length<=0,isLoading:h,isOpen:n,lazyLoading:v,loader:t(En,{isEmpty:0===a.length,isLoading:h,isOpen:n,lazyLoading:v,loadingType:s.loadingType,withCheckbox:"checkbox"===s.selectionMethod}),menuFooterContent:d,menuHeaderContent:c,noOptionsText:l,onOptionClick:p,onScroll:v?g:void 0},n&&a.map(((e,n)=>{var o;const a=r===n,l=null===(o=s.currentId)||void 0===o?void 0:o.includes(e);return t(On,{key:e,isHighlighted:a,isSelected:l,item:e,getItemProps:i,index:n},"checkbox"===s.selectionMethod&&t(de,{checked:l,id:"".concat(u,"_").concat(e)}),s.caption.render(e,"options","".concat(u,"_").concat(e)))})))}function kn(e){let{id:o,value:i,onChange:r}=e;const a=n(null);return s((()=>{a.current&&("all"===i||"none"===i?a.current.indeterminate=!1:"some"===i&&(a.current.indeterminate=!0))}),[i]),t("input",{id:o,type:"checkbox",className:"three-state-checkbox",ref:a,checked:"none"!==i,onChange:r})}function An(e){let{id:n,ariaLabel:o,value:r,onChange:s}=e;return t(i,null,t("span",{className:le("widget-combobox-menu-header-select-all-button","widget-combobox-icon-container")},t(kn,{value:r,id:n,onChange:s})),o?t(_,{onClick:()=>{},htmlFor:n},o):void 0)}function Ln(o){let{selector:r,tabIndex:s,a11yConfig:a,menuFooterContent:l,ariaRequired:u,...c}=o;var d,p,h;const{isOpen:v,getToggleButtonProps:g,getMenuProps:m,getInputProps:f,highlightedIndex:y,getItemProps:b,getSelectedItemProps:I,getDropdownProps:x,removeSelectedItem:C,setActiveIndex:w,selectedItems:T,items:O,setSelectedItems:S,toggleSelectedItem:E}=dn(r,c,a.a11yStatusMessage),M=n(null),k="boxes"===r.selectedItemsStyle,A=r.isOptionsSelected(),L=e((()=>function(e,t){if(0===t.length)return e.caption.emptyCaption;if("text"!==e.selectedItemsStyle||"yes"===e.customContentType||"rowclick"===e.selectionMethod)return"";const n=t.map((t=>e.caption.get(t))).sort();return("desc"===e.options.sortOrder?n.reverse():n).join(", ")}(r,T)),[r,T]),P=null!==(d=r.lazyLoading)&&void 0!==d&&d,{onScroll:V}=vn({hasMoreItems:null!==(p=r.options.hasMore)&&void 0!==p&&p,isInfinite:P,isOpen:v,loadMore:()=>{r.options.loadMore&&r.options.loadMore()}});return t(i,null,t(yn,{isOpen:v,readOnly:r.readOnly,readOnlyStyle:c.readOnlyStyle,getToggleButtonProps:g,validation:r.validation,isLoading:P&&r.options.isLoading},t("div",{className:le("widget-combobox-selected-items","widget-combobox-".concat(r.selectedItemsStyle))},k&&T.map(((e,n)=>{var o;return t("div",{className:"widget-combobox-selected-item",key:e,...I({selectedItem:e,index:n})},r.caption.render(e,"label"),!r.readOnly&&t("span",{className:"icon widget-combobox-clear-button","aria-label":null===(o=a.ariaLabels)||void 0===o?void 0:o.removeSelection,role:"button",onClick:t=>{t.stopPropagation(),C(e)}},t(ue,{size:10})))})),t("input",{className:le("widget-combobox-input",{"widget-combobox-input-nofilter":"none"===r.options.filterType}),tabIndex:s,placeholder:" ",...f({...x({preventKeyAction:v},{suppressRefError:!0}),ref:M,onKeyDown:e=>{var t,n;("Backspace"===e.key&&0===(null===(t=M.current)||void 0===t?void 0:t.selectionStart)||"ArrowLeft"===e.key&&k&&0===(null===(n=M.current)||void 0===n?void 0:n.selectionStart))&&w(T.length-1)," "===e.key&&y>=0&&(E(y),e.preventDefault(),e.stopPropagation())},disabled:r.readOnly,readOnly:"none"===r.options.filterType,"aria-required":u})}),t(ve,{isEmpty:T.length<=0},L)),!r.readOnly&&r.clearable&&null!==r.currentId&&r.currentId.length>0&&t("button",{tabIndex:s,className:"widget-combobox-clear-button","aria-label":null===(h=a.ariaLabels)||void 0===h?void 0:h.clearSelection,onClick:e=>{var t;e.stopPropagation(),null===(t=M.current)||void 0===t||t.focus(),T.length>0&&S([])}},t(ue,null))),t(Mn,{menuHeaderContent:r.selectAllButton?t(An,{value:A,id:"".concat(c.inputId,"-select-all-button"),ariaLabel:a.ariaLabels.selectAll,onChange:()=>{S("all"===A?[]:r.options.getAll())}}):void 0,menuFooterContent:l,inputId:c.inputId,selector:r,isOpen:v,highlightedIndex:y,selectableItems:O,getItemProps:b,getMenuProps:m,selectedItems:T,noOptionsText:c.noOptionsText,onOptionClick:()=>{var e;null===(e=M.current)||void 0===e||e.focus()},isLoading:r.options.isLoading,lazyLoading:P,onScroll:V}))}function Pn(e){let{isOpen:n,selector:o,highlightedIndex:i,getMenuProps:r,getItemProps:s,noOptionsText:a,alwaysOpen:l,menuFooterContent:u,isLoading:c,lazyLoading:d,onScroll:p}=e;const h=o.options.getAll();return t(Tn,{alwaysOpen:l,getMenuProps:r,isEmpty:(null==h?void 0:h.length)<=0,isLoading:c,isOpen:n,lazyLoading:d,loader:t(En,{isLoading:c,isOpen:n,lazyLoading:d,loadingType:o.loadingType,withCheckbox:!1,isEmpty:0===h.length}),menuFooterContent:u,noOptionsText:a,onScroll:d?p:void 0},n&&h.map(((e,n)=>t(On,{key:e,isHighlighted:!l&&i===n,isSelected:o.currentId===e,item:e,getItemProps:s,index:n},o.caption.render(e,"options")))))}function Vn(o){let{selector:s,tabIndex:a=0,a11yConfig:l,keepMenuOpen:u,menuFooterContent:c,ariaRequired:d,...p}=o;var h,v,g;const{getInputProps:m,getToggleButtonProps:f,getItemProps:y,selectedItem:b,getMenuProps:I,reset:x,isOpen:C,highlightedIndex:w}=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;var i;const{inputId:s,labelId:a}=n,l=e((()=>({items:[],itemToString:e=>t.caption.get(e),onSelectedItemChange(e){let{selectedItem:n}=e;t.setValue(null!=n?n:null)},onInputValueChange(e){let{inputValue:n}=e;t.options.setSearchTerm(n)},getA11yStatusMessage(e){const n=t.caption.get(t.currentId);let i=n?t.currentId?"".concat(o.a11ySelectedValue," ").concat(n,". "):"No options selected.":"";return e.isOpen?e.resultCount&&e.resultCount>0?(i+="".concat(o.a11yOptionsAvailable," ").concat(e.resultCount,". ").concat(o.a11yInstructions),i):o.a11yNoOption:i},defaultHighlightedIndex:0,selectedItem:null,initialInputValue:t.caption.get(t.currentId),stateReducer(e,n){const{changes:o,type:i}=n;switch(i){case Ht.stateChangeTypes.ToggleButtonClick:return{...o,inputValue:e.isOpen&&t.currentId?t.caption.get(t.currentId):""};case Ht.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...o,inputValue:o.inputValue===t.caption.emptyCaption?"":t.caption.get(t.currentId)};case Ht.stateChangeTypes.InputFocus:return{...o,isOpen:e.isOpen,inputValue:"",highlightedIndex:o.selectedItem?-1:this.defaultHighlightedIndex};case Ht.stateChangeTypes.InputKeyDownEscape:case Ht.stateChangeTypes.FunctionCloseMenu:return{...o,isOpen:!1,inputValue:o.selectedItem||t.currentId?t.caption.get(t.currentId):""};case Ht.stateChangeTypes.InputBlur:return e;default:return{...o}}},inputId:s,labelId:a})),[t,s,a,o.a11ySelectedValue,o.a11yOptionsAvailable,o.a11yNoOption,o.a11yInstructions]),u=Ht({...l,items:null!==(i=t.options.getAll())&&void 0!==i?i:[],selectedItem:t.currentId}),{closeMenu:c}=u;return t.onLeaveEvent=r(c,[c]),u}(s,p,l.a11yStatusMessage),T=n(null),O=null!==(h=s.lazyLoading)&&void 0!==h&&h,{onScroll:S}=vn({hasMoreItems:null!==(v=s.options.hasMore)&&void 0!==v&&v,isInfinite:O,isOpen:C,loadMore:()=>{s.options.loadMore&&s.options.loadMore()}});return t(i,null,t(yn,{isOpen:C||!0===u,readOnly:s.readOnly,readOnlyStyle:p.readOnlyStyle,getToggleButtonProps:f,validation:s.validation,isLoading:O&&s.options.isLoading},t("div",{className:le("widget-combobox-selected-items",{"widget-combobox-custom-content":"yes"===s.customContentType})},t("input",{className:le("widget-combobox-input",{"widget-combobox-input-nofilter":"none"===s.options.filterType}),tabIndex:a,...m({disabled:s.readOnly,readOnly:"none"===s.options.filterType,ref:T,"aria-required":d},{suppressRefError:!0}),placeholder:" "}),t(ve,{isEmpty:!s.currentId,type:"yes"===s.customContentType?"custom":"text"},s.caption.render(b,"label"))),(!s.readOnly&&s.clearable&&null!==s.currentId||"static"===s.selectorType&&null!==s.currentId&&!s.readOnly&&s.clearable&&"boolean"!==s.attributeType)&&t("button",{tabIndex:a,className:"widget-combobox-clear-button","aria-label":null===(g=l.ariaLabels)||void 0===g?void 0:g.clearSelection,onClick:e=>{var t;e.stopPropagation(),null===(t=T.current)||void 0===t||t.focus(),(b||"static"===s.selectorType)&&(s.setValue(null),x())}},t(ue,null))),t(Pn,{selector:s,selectedItem:b,getMenuProps:I,getItemProps:y,isOpen:C||!0===u,highlightedIndex:w,menuFooterContent:c,noOptionsText:p.noOptionsText,alwaysOpen:u,isLoading:s.options.isLoading,lazyLoading:O,onScroll:S}))}function Dn(n){var o,i,r,s,a,l,u,c,d,p,h,v,g,m,y;const b=re(n),I=function(t){return e((()=>({onFocus:e=>{const{relatedTarget:n,currentTarget:o}=e;(null==o?void 0:o.contains(n))||(f(t.onEnterEvent),t.selector.onEnterEvent&&t.selector.onEnterEvent())},onBlur:e=>{const{relatedTarget:n,currentTarget:o}=e;(null==o?void 0:o.contains(n))||(f(t.onLeaveEvent),t.selector.onLeaveEvent&&t.selector.onLeaveEvent())}})),[t.onEnterEvent,t.onLeaveEvent,t.selector])}({onEnterEvent:n.onEnterEvent,onLeaveEvent:n.onLeaveEvent,selector:b}),x={tabIndex:n.tabIndex,inputId:n.id,labelId:"".concat(n.id,"-label"),noOptionsText:null===(o=n.noOptionsText)||void 0===o?void 0:o.value,readOnlyStyle:n.readOnlyStyle,ariaRequired:n.ariaRequired,a11yConfig:{ariaLabels:{clearSelection:null!==(r=null===(i=n.clearButtonAriaLabel)||void 0===i?void 0:i.value)&&void 0!==r?r:"",removeSelection:null!==(a=null===(s=n.removeValueAriaLabel)||void 0===s?void 0:s.value)&&void 0!==a?a:"",selectAll:null!==(u=null===(l=n.selectAllButtonCaption)||void 0===l?void 0:l.value)&&void 0!==u?u:""},a11yStatusMessage:{a11ySelectedValue:null!==(d=null===(c=n.a11ySelectedValue)||void 0===c?void 0:c.value)&&void 0!==d?d:"",a11yOptionsAvailable:null!==(h=null===(p=n.a11yOptionsAvailable)||void 0===p?void 0:p.value)&&void 0!==h?h:"",a11yInstructions:null!==(g=null===(v=n.a11yInstructions)||void 0===v?void 0:v.value)&&void 0!==g?g:"",a11yNoOption:null!==(y=null===(m=n.noOptionsText)||void 0===m?void 0:m.value)&&void 0!==y?y:""}},menuFooterContent:n.showFooter?n.menuFooterContent:void 0};return t("div",{className:"widget-combobox",...I},"unavailable"===b.status?t(pe,null):"single"===b.type?t(Vn,{selector:b,...x}):t(Ln,{selector:b,...x}))}export{Dn as default};
